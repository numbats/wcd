"use strict";!function(n,o,r){var t="mobile-year-filter--open",i="tournament-year-dropdown__option--current";n.MobileYearFilter=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.container=e,this.config=t,this.modal=this.container.querySelector(".js-mobile-year-filter"),this.overviewContainer=this.container.querySelector(".js-mobile-filter-overview"),this.currentValue=e.querySelector(".js-current-value"),this.items=[].slice.call(this.container.querySelectorAll(".js-dropdown-item")),this.init()},n.MobileYearFilter.prototype.init=function(){var t=this,e=this.container.querySelector(".js-mobile-filter-open"),i=this.container.querySelector(".js-mobile-filter-close");o.addAriaClickListener(e,function(){return s.call(t,!0)}),o.addAriaClickListener(i,function(){return s.call(t,!1)}),r.event.windowResize.add({method:function(){window.innerWidth>n.measurements.tablet&&s.call(t,!1)}}),this.config.noPageReload&&this.items.forEach(function(e){return o.addAriaClickListener(e,function(e){"function"==typeof t.config.callback&&t.config.callback(e.currentTarget.dataset.value),a.call(t,e.currentTarget),s.call(t,!1)})})};var s=function(e){e?r.style.addClass(this.modal,t):r.style.removeClass(this.modal,t)},a=function(e){var t=this.container.querySelector("."+i);t&&r.style.removeClass(t,i),r.style.addClass(e,i),this.currentValue.innerText=e.innerText};n.widgetInitialiser.addMultipleWidgetsByName("mobile-year-filter",n.MobileYearFilter)}(PULSE.app,PULSE.app.common,PULSE.core),function(e,i,n,o){var r="tournament-year-dropdown__option--current";e.TournamentYearDropdown=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.container=e,this.config=t,this.dropdown=e.querySelector(".js-dropdown"),this.list=e.querySelector(".js-dropdown-options"),this.currentValue=e.querySelector(".js-current-value"),this.dropdownItems=[].slice.call(this.container.querySelectorAll(".js-dropdown-item")),this.setupListeners()},e.TournamentYearDropdown.prototype.setupListeners=function(){var t=this;this.dropdown.addEventListener("click",this.toggleVisibility.bind(this)),this.dropdown.addEventListener("keydown",this.toggleVisibility.bind(this)),this.list.addEventListener("keydown",this.toggleVisibility.bind(this)),o.closeOnOutsideClick.addElement(this.dropdown,l.bind(this),this.list),this.config.noPageReload&&this.dropdownItems.forEach(function(e){return o.addAriaClickListener(e,function(e){"function"==typeof t.config.callback&&t.config.callback(e.currentTarget.dataset.value),s.call(t,e.currentTarget),l.call(t)})})},e.TournamentYearDropdown.prototype.toggleVisibility=function(e){var t=e.keyCode===i.KEY_CODES.SPACE||e.keyCode===i.KEY_CODES.ENTER;e.keyCode===i.KEY_CODES.ESCAPE&&l.call(this),("click"===e.type||t)&&(this.container.classList.toggle("is-open"),this.list.setAttribute("aria-expanded",this.container.classList.contains("is-open"))),e.keyCode===i.KEY_CODES.ARROW_KEY_DOWN&&(e.preventDefault(),this.focusNextListItem(i.KEY_CODES.ARROW_KEY_DOWN)),e.keyCode===i.KEY_CODES.ARROW_KEY_UP&&(e.preventDefault(),this.focusNextListItem(i.KEY_CODES.ARROW_KEY_UP))},e.TournamentYearDropdown.prototype.focusNextListItem=function(e){var t=document.activeElement;t.isEqualNode(this.dropdown)?(a.call(this),this.list.children[0].focus()):e===i.KEY_CODES.ARROW_KEY_DOWN?t.nextElementSibling?t.nextElementSibling.focus():t.blur():e===i.KEY_CODES.ARROW_KEY_UP&&(t.previousElementSibling?t.previousElementSibling.focus():this.dropdown.focus())};var s=function(e){var t=this.container.querySelector("."+r);t&&n.style.removeClass(t,r),n.style.addClass(e,r),this.currentValue.innerText=e.innerText},a=function(){n.style.addClass(this.container,"is-open"),this.list.setAttribute("aria-expanded",!0)},l=function(){n.style.removeClass(this.container,"is-open"),this.list.setAttribute("aria-expanded",!1)};e.widgetInitialiser.addMultipleWidgetsByName("tournament-year-dropdown",e.TournamentYearDropdown)}(PULSE.app,PULSE.app.common.CONSTANTS,PULSE.core,PULSE.app.common);