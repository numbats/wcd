"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}!function(i){i.account="wta",i.templates={},i.common={},i.defaultLanguage="EN",i.widgets={},i.paths=[{label:"dev",domain:["dev.wta.pulselive.com"],cdn:"//dev.wta.pulselive.com/resources/ver/",api:"//api.dev.platform.pulselive.com",tennisApi:"//api.dev.wta.pulselive.com/tennis",trackingAPI:"https://jkulhg7io5.execute-api.us-east-1.amazonaws.com/dev/interactions",playerImagePath:"https://www.wtatennis.com/sites/default/files/styles"},{label:"production",domain:["www.wtatennis.com","wtatv.wtatennis.com"],cdn:"//www.wtatennis.com/resources/{$RESOURCES_VERSION$}/",api:"//api.wtatennis.com",tennisApi:"//api.wtatennis.com/tennis",trackingAPI:"https://jkulhg7io5.execute-api.us-east-1.amazonaws.com/prod/interactions",playerImagePath:"https://www.wtatennis.com/sites/default/files/styles"},{label:"staging",domain:["stage.wta.pulselive.com"],cdn:"//stage.wta.pulselive.com/resources/{$RESOURCES_VERSION$}/",api:"//api.wtatennis.com",tennisApi:"//api.wtatennis.com/tennis",trackingAPI:"https://jkulhg7io5.execute-api.us-east-1.amazonaws.com/dev/interactions",playerImagePath:"https://www.wtatennis.com/sites/default/files/styles"},{label:"test",domain:["test.wta.pulselive.com"],cdn:"//test.wta.pulselive.com/resources/{$RESOURCES_VERSION$}/",api:"//api.test.platform.pulselive.com",tennisApi:"//api.test.wta.pulselive.com/tennis",trackingAPI:"https://jkulhg7io5.execute-api.us-east-1.amazonaws.com/test/interactions",playerImagePath:"https://www.wtatennis.com/sites/default/files/styles"}].map(function(e){return e.cdn=e.cdn.replace("{$RESOURCES_VERSION$}",window.RESOURCES_VERSION),e}),i.checkEnvironment=function(){for(var e=window.location.hostname,t=void 0,a=0;a<i.paths.length;a++){var n=i.paths[a];if("undefined"!=typeof browsersyncProxy&&("localhost"===e||/^(?=.*[^\.]$)((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.?){4}$/gim.test(e))){browsersyncProxy=browsersyncProxy.replace("https://","");var r=i.paths.findIndex(function(e){return-1<e.domain.indexOf(browsersyncProxy)});(t=i.paths[r]).cdn="/";break}if(Array.isArray(n.domain)){var o=l(n.domain,e);if(o){n.domain=o,t=n;break}}else if(e===n.domain||e.match(new RegExp(n.domain))){t=n;break}}return t||console.error("There are no app.paths defined for this domain"),t};var l=function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(t===n||t.match(new RegExp(n)))return n}return null};i.environment=i.checkEnvironment();document.addEventListener("DOMContentLoaded",function(){i.I18N.setup(),objectFitImages()})}(PULSE.app),function(a){a.FilterGroups={};var n=function(e){return e.map(function(e){return e.label}).join(",")};a.FilterGroups.CONTENT=[{fylterConfig:{name:"Category"},getDefaultFromSearchParams:function(e){try{return n(e.tags.tags)}catch(e){console.warn("ContentFilter getOptionsFromSearchParams, could not find tags on searchQuery",e)}return-1},getOptionsFromSearchParams:function(e){var t="";try{t=n(e.tags.tags)}catch(e){console.warn("ContentFilter getOptionsFromSearchParams, could not find tags on searchQuery",e)}var a=[{name:"All",value:-1},{name:"First Team News",value:"news,first team"}];return a.filter(function(e){return e.value===t}).length||!t?a:[].concat(a,[{name:t,value:t}])}},{fylterConfig:{name:"Competition",data:function(){return[{name:"All",value:-1},{name:"Premier League",value:"FOOTBALL_COMPETITION:1"},{name:"Champions League",value:"FOOTBALL_COMPETITION:2"}]}},getDefaultFromSearchParams:function(e){return e.references&&e.references.length?e.references[0].contentType+":"+e.references[0].reference:-1}}],a.FilterGroups.CRICKET=[{fylterConfig:{name:"Date"},getOptionsFromSearchParams:function(e){var t=new Date(e.endDate).getFullYear(),a=[t,t-1,t-2,t-3].map(function(e){return{name:e,value:"01-01-"+e}});return[{name:"All",value:-1}].concat(_toConsumableArray(a))},getDefaultFromSearchParams:function(e){return"01-01-"+new Date(e.endDate).getFullYear()}},{fylterConfig:{name:"Match Types",data:function(){return[{name:"All",value:"ALL"},{name:"Test",value:"TEST"},{name:"ODI",value:"ODI"},{name:"T20I",value:"T20I"},{name:"IPLT20",value:"IPLT20"},{name:"CLT20",value:"CLT20"},{name:"T20",value:"T20"},{name:"List A",value:"LIST_A"},{name:"First Class",value:"FIRST_CLASS"},{name:"World Cup",value:"CWC"},{name:"Other",value:"OTHER"}]}},getDefaultFromSearchParams:function(e){return e.matchTypes[0]}},{fylterConfig:{name:"Team Types",data:function(){return[{name:"Mens",value:"m"},{name:"Womens",value:"w"},{name:"Men Youth",value:"my"}]}},getDefaultFromSearchParams:function(e){return e.teamTypes[0]}}],a.FilterGroups.FOOTBALL=[{fylterConfig:{name:"Competition",data:function(){return"//api.dev.platform.pulselive.com/football/competitions?page=0&pageSize=20&detail=1"},middleWares:{beforeOptionUpdate:function(e){var t=e.data.content.map(function(e){return{name:e.description,value:e.id,extra:e}});return[{name:"All Comps",value:"-1"}].concat(t)}}},getDefaultFromSearchParams:function(e){return e.comps[0]}},{fylterConfig:{name:"CompSeason",dependsOn:["Competition"],data:function(){return"//api.dev.platform.pulselive.com/football/competitions/{{Competition}}/compseasons?page=0&pageSize=100"},middleWares:{beforeOptionUpdate:function(e){var t=e.data.content.map(function(e){return{name:e.label,value:e.id}});return[{name:"All CompSeasons",value:"-1"}].concat(t)},decideFilterEnabledState:function(e){return"-1"!==e[0].getCurrentOption().value}}},getDefaultFromSearchParams:function(e){return e.compSeasons[0]}},{fylterConfig:{name:"GameWeeks",dependsOn:["CompSeason"],data:function(){return"//api.dev.platform.pulselive.com/football/compseasons/{{CompSeason}}/gameweeks"},middleWares:{beforeOptionUpdate:function(e){var t=e.data.gameweeks.map(function(e){return{name:e.gameweek,value:e.id,extra:e}});return[{name:"All Gameweeks",value:"-1"}].concat(t)},decideFilterEnabledState:function(e){return"-1"!==e[0].getCurrentOption().value}}},getDefaultFromSearchParams:function(e){return e.gameweeks[0]}},{fylterConfig:{name:"HomeAway",data:function(){return[{name:"Home",value:"home"},{name:"Away",value:"away"}]}}}],a.FilterGroups.FootballFixturesList=[{fylterConfig:{name:"selectteam",middleWares:{beforeOptionUpdate:function(e){return e.data.teams.map(function(e){return{name:PULSE.I18N.lookup("label.team.type."+e.teamType),value:e.id}})}}},getDefaultFromSearchParams:function(e){return e.footballFilters.teams[0]},getOptionsFromSearchParams:function(e){var t=e.footballClubList[0];return a.environment.api+"/football/clubs/"+t.id+"?language="+a.language}},{fylterConfig:{name:"selectcompetition",dependsOn:["selectteam"],data:function(){return a.environment.api+"/football/competitions/?teams={{selectteam}}&pageSize=20"},middleWares:{beforeOptionUpdate:function(e){var t=e.data.content.map(function(e){return{name:e.description,value:e.id}});return[{name:PULSE.I18N.lookup("label.all"),value:-1}].concat(_toConsumableArray(t))}}},getDefaultFromSearchParams:function(e){return e.footballFilters.comps[0]}},{fylterConfig:{name:"selectseason",dependsOn:["selectcompetition"],data:function(){return a.environment.api+"/football/competitions/{{selectcompetition}}/compseasons?pageSize=100"},middleWares:{beforeOptionUpdate:function(e){return e.data.content.map(function(e){return{name:e.label,value:e.id}})},decideFilterEnabledState:function(e){return"-1"!==e[0].getCurrentId().toString()}}},getDefaultFromSearchParams:function(e){return e.footballFilters.compSeasons[0]}}]}(PULSE.app),PULSE.app.common.CONSTANTS={BODY:"body",EVENTS:{SLIDER:{INITIALISED:"SLIDER_INITIALISED"},PLAYER:{SCRIPTS_LOADED:"player.scriptsLoaded"},FLIPCLOCK:{START:"clock/start",STOP:"clock/stop"},VIDEO:{START:"video/start",END:"video/end",READY:"player/ready",PLAY:"player/play-video",PAUSE:"player/pause-video",CLOSE_FULL_SCREEN:"player/full-screen-closed",SET_MEDIA:"player/set-media"},MORE_MENU:{CHANGED:"more_menu.changed"},SEARCH:{SEARCH_FIRED:"search.fired",SEARCH_RETURNED:"search.returned"},PLAYER_SEARCH:{SEARCH_FIRED:"player.search.fired",SEARCH_RESET:"player.search.reset",SEARCH_CLOSED:"player.search.closed",DROPDOWN_ITEM_CLICKED:"player.dropdown-item.clicked"},MOBILE_FILTERS:{UPDATE:"mobile_filters.update"},RANKINGS_FILTERS:{CHANGED:"rankings_filters.changed"},PLAYER_MATCHES_FILTERS:{CHANGED:"player_matches_filters.changed"},DATE_PICKER:{CHANGED:"date_picker.changed",RESET:"date_picker.reset"},COUNTRY_FILTER:{CHANGED:"country_filter.changed",RESET:"country_filter.reset",LOAD:"country_filter.load",CANCEL:"country_filter.cancel"},MATCH_CENTRE:{MATCH_SCORE_UPDATED:"match_centre.match_score_updated",MATCH_STATS_UPDATED:"match_centre.match_stats_updated",LIVE_BLOG:"match_centre.live_blog"},PHOTO_MARKER:{NEW_DATA:"photo_marker.new_data",WAITING:"photo_marker.waiting_for_request"},DAY_NAV:{SET_ACTIVE:"day_nav.set_active",CHANGED:"day_nav.changed"},TOAST:{SHOW:"toast.show"},PLAYER_RANKINGS_HISTORY:{YEAR_CHANGED:"player.ranking-history.year.changed"}},KEY_CODES:{ENTER:13,ESCAPE:27,ARROW_KEY_LEFT:37,ARROW_KEY_RIGHT:39,ARROW_KEY_UP:38,ARROW_KEY_DOWN:40,SPACE:32},HTTP_STATUS_CODES:{OK:200,UNAUTHORIZED:401,NOT_FOUND:404,SERVER_ERROR:500},TIME:{ONE_DAY_IN_MS:864e5,ONE_MINUTE_IN_MS:6e4,ONE_SECOND_IN_MS:1e3,ONE_MINUTE_IN_SECS:60,ONE_HOUR_IN_MINS:60,ONE_DAY_IN_HOURS:24,ONE_HOUR_IN_SECONDS:3600,ACST_HOUR_OFFSET:9.5},U_HIDE:"u-hide",U_HIDE_TABLET:"u-hide-tablet",U_NO_SCROLL_TABLET:"u-no-scroll-tablet",IS_DOCKED:"is-docked",ACTIVE_CLASS:"is-active",INACTIVE_CLASS:"is-inactive",IS_DISABLED:"is-disabled",GMS_IS_COLLAPSED:"gms-is-collapsed",MC_POLL_INTERVAL:3e4,MATCH_UPDATED_POLL_INTERVAL:3e4,MATCH_STATES:{MATCH_INFO:{UPCOMING:"U",ON_COURT:"C",WARMUP:"W",PLAYING:"P",SUSPENDED:"S",TOILET_BREAK:"D",MEDICAL_TIMEOUT:"M",CHALLENGE_IN_PROG:"R",CORRECTION_MODE:"E",FINISHED:"F",CANCELLED:"L"},PARAMS:{UPCOMING:"U",LIVE:"L",COMPLETED:"C"}},MATCH_REASONS:{BYE:"Bye",WALKOVER:"Walkover",RETIRED:"Retired",UNPLAYED:"Unplayed",DEFAULT:"Default",WON_MATCH:"Won Match"},GMS_UPDATER_INTERVAL:12e4,MatchUpdater:{READY:"app.MatchUpdater.ready"},InfiniteScrollWidget:{READY:"app.InfiniteScrollWidget.ready"},TournamentSponsorWidget:{READY:"app.TournamentSponsorWidget.ready"},HorizontalNav:{READY:"app.Horizontal.ready"},PlayerSearchDropdown:{READY:"app.PlayerSearchDropdown.ready"},TAGS:{GALLERY:"photo-gallery",COACH:"tennis-coach",DIRECTOR:"director"},GrandSlamDayNav:{READY:"app.GrandSlamDayNav.ready"}},function(a,n){a.I18N={},a.I18N.setup=function(){var e=n.localStorage.getStorage("req_language",!0);a.language=e||a.defaultLanguage;var t=new a.I18N.Translator(PULSE.I18N);PULSE.I18N||(PULSE.I18N={}),PULSE.I18N.lookup=function(){return t.lookup.apply(t,arguments)},PULSE.I18N.lookupKey=function(){return t.lookupKey.apply(t,arguments)},void 0!==window.moment&&(a.I18N.enOverride(),moment.locale(a.language))},a.I18N.enOverride=function(){moment.locale("en",{longDateFormat:{LT:"HH:mm",LTS:"h:mm:ss A",l:"DD/MM",L:"DD/MM/YYYY",ll:"D MMMM",LL:"D MMMM YYYY",lll:"MMM D YYYY LT",LLL:"MMMM Do YYYY LT",llll:"ddd MMM D YYYY",LLLL:"dddd, MMMM Do YYYY"},yearFirst:!1})},a.I18N.Translator=function(e){var t=this;t.hasTranslations=!1,t.language=a.language,e?(t.hasTranslations=!0,t.language!==e.language&&(void 0===e.language&&console.warn("Language mismatch! Using "+e.language),t.language=e.language),t.translations=e.translations||{},t.hasTranslations=!0):(t.hasTranslations=!1,t.translations={})},a.I18N.Translator.prototype.lookup=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e&&t){var a=this.lookupKey(e);for(var n in t)if({}.hasOwnProperty.call(t,n)){var r=new RegExp("\\${"+n+"}","gi");a=a.replace(r,t[n])}return a}return""},a.I18N.Translator.prototype.lookupKey=function(e){return this.hasTranslations&&this.translations[e]||e}}(PULSE.app,PULSE.core),PULSE.app.measurements={"small-mobile":370,mobile:415,phablet:640,tablet:840,desktop:1025,wide:1300,"extra-wide":1440,"wrapper-width":1512},function(i){i.templating={},i.templating.helper={},i.templating.render=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],e=arguments[2],n="";for(var r in i.templating)i.templating.hasOwnProperty(r)&&(t[r]=i.templating[r]);if(t.environment=i.environment,t.CONSTANTS=i.common.CONSTANTS,t.helper.date=i.common.date,t.helper.template=i.common.template,t.helper.image=i.common.image,a){var o=i.templates[a];if(o){try{n=o(t)}catch(e){e.message&&(e.message+=" in template "+a),console.warn(e),console.info("Model given",t)}if(e)return l(n)}else console.warn("No template was rendered. Template not found: "+a)}return n};var l=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}}(PULSE.app),function(t){var a=[];t.widgetDeps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document;t.environment&&[].slice.call(e.querySelectorAll("[data-script]")).forEach(function(e){e.dataset.script.split(",").map(function(e){return e.trim()}).forEach(function(e){return n(e)})})};var n=function(e){if(a.indexOf(e)<0){a.push(e);var t=document.createElement("script");t.type="text/javascript",t.src=r(e),document.body.appendChild(t)}},r=function(e){return t.environment.cdn+"widgets"+"/"+e+"."+("dev"!==t.environment.label?"min.js":"js")};switch(document.readyState){case"interactive":case"complete":t.widgetDeps();break;default:document.addEventListener("DOMContentLoaded",function(){t.widgetDeps()})}}(PULSE.app),function(l){var o={root:null,rootMargin:"0px",threshold:[.1,.9]};l.widgetInitialiser={};var i=void 0,s={};l.widgetInitialiser.addWidget=function(e,t){var a=t||l[m(e)],n=document.querySelector('[data-widget="'+e+'"]');n&&"true"!==n.dataset.initialized&&u(e,n,a)},l.widgetInitialiser.addMultipleWidgetsByName=function(e,t,a){for(var n=a||document,r=t||l[m(e)],o=n.querySelectorAll('[data-widget="'+e+'"]'),i=0;i<o.length;i++)u(e,o[i],r)},l.widgetInitialiser.addWidgets=function(e){for(var t=(e||document).querySelectorAll("[data-widget]"),a=0;a<t.length;a++){var n=t[a].getAttribute("data-constructor"),r=t[a].getAttribute("data-widget");!n&&r&&(n=m(r)),l.hasOwnProperty(n)&&u(r,t[a],l[n])}};var c=function(e){var t=s[e.dataset.observableId];if(t){var a=e.dataset.widget,n=new t(e);"true"===e.dataset.storeReference&&l.widgets[a].push(n),e.setAttribute("data-initialised",!0),delete s[e.dataset.observableId],void 0!==i&&i.unobserve(e)}else console.warn("Observing unexpected widget",e)},u=function(e,t,a){if("true"!==t.getAttribute("data-initialised"))if(l.widgets[e]||(l.widgets[e]=[]),"true"===t.dataset.initWhenVisible&&function(){if(void 0===i){if("undefined"==typeof IntersectionObserver)return!1;i=new IntersectionObserver(function(e){[].slice.call(e).forEach(function(e){var t=e.target;e.isIntersecting&&"true"!==t.dataset.initialized&&c(t)})},o)}return!0}()){var n=d(e);s[n]=a,t.dataset.observableId=n,i.observe(t)}else{var r=new a(t);"true"===t.dataset.storeReference&&l.widgets[e].push(r),t.setAttribute("data-initialised",!0)}},m=function(e){return e.toLowerCase().replace(/(\b|-)\w/g,function(e){return e.toUpperCase().replace(/-/,"")})+"Widget"},d=function(e){return e+"_"+Date.now()+"_"+Math.random()}}(PULSE.app);