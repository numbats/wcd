"use strict";PULSE.app.templates["common.paginator"]=_.template('<% for ( var i = 0; i < slideNum; i++ ) { %> <li class="pager__container js-pager-container"> <button class="pager__button js-pager" aria-label="Goto Page <%= i + 1 %>"> <span class="u-screen-reader"><%= i + 1 %></span> </button> </li> <% } %> '),PULSE.app.templates["common.advert"]=_.template('<div class="advert js-advert wrapper <%= data.cssClass %>" id="<%= data.adID %>" data-id="<%= data.adID %>" data-index="<%= data.adIndex %>"> </div> '),PULSE.app.templates["common.dynamic-more"]=_.template('<li class="dynamic-more <%= baseClass %>__item has-children"> <button class="<%= baseClass %>__dropdown-label js-dropdown-btn" aria-haspopup="true"> More </button> <ul class="<%= baseClass %>__dropdown js-dynamic-more-bucket" role="group" aria-expanded="false" aria-hidden="true"> </ul> </li> '),PULSE.app.templates["common.flag-svg"]=_.template('<img class="flag <%= typeof cssClass !== \'undefined\' ? cssClass : \'\' %>" aria-hidden="true" src="<%= environment.cdn %>i/elements/flags/<%= countryCode.toLowerCase() %>.svg" alt="<%= countryCode %>">'),PULSE.app.templates["common.gallery-thumbnail-meta"]=_.template('<p class="media-thumbnail__count"><%= data.pageInfo.numEntries %></p> '),PULSE.app.templates["common.image-element"]=_.template("<img src=\"<%= source %>\" alt=\"<%= title %>\" class=\"img <%= typeof cssClass !== 'undefined' ? cssClass : '' %> <%= fadeInOnLoad ? 'js-faded-image fade-in-on-load' : '' %>\"> "),PULSE.app.templates["common.lazy-image"]=_.template("<div class=\"js-lazy-load u-observed lazy-image-wrapper\" data-picture-in-view=\"false\"> \x3c!-- <% if( data.useImg || data.url ) { %> <%= render( {\n            title: data.title || '',\n            source: data.url,\n            cssClass: data.cssClass || '',\n            objectFit: data.objectFit && true,\n            fadeInOnLoad: true\n        }, 'common.image-element' ) %> <% } else { %> <%= render( {\n            title: data.title || '',\n            mediaQueryConfig: data.mediaQueryConfig,\n            cssClass: data.cssClass || '',\n            objectFit: data.objectFit && true,\n            fadeInOnLoad: true\n        }, 'common.picture-element' ) %> <% } %> --\x3e \x3c!-- DO NOT REMOVE THE ABOVE --\x3e </div>"),PULSE.app.templates["common.loader"]=_.template('<div class="loader <%= typeof cssClass !== \'undefined\' ? cssClass : \'\' %>"> <div class="loader__spinner"> <div class="loader__dot loader__dot--1"></div> <div class="loader__dot loader__dot--2"></div> <div class="loader__dot loader__dot--3"></div> <div class="loader__dot loader__dot--4"></div> <div class="loader__dot loader__dot--5"></div> </div> <span class="loader__label"> <%= typeof loadText !== \'undefined\' ? loadText : PULSE.I18N.lookupKey( \'label.loadingMore\' ) %> </span> </div>'),PULSE.app.templates["common.media-thumbnail"]=_.template("<article class=\"media-thumbnail media-thumbnail--<%= data.type %> <%= data.cssClass %>\" data-widget=\"lazy-load-images\"> <a class=\"media-thumbnail__link\" href=\"<%= data.link %>\" title=\"<%= data.title.replace('\"', '') %>\" aria-label=\"<%= data.title.replace('\"', '') %>\"> <header class=\"media-thumbnail__image-container placeholder\"> <% const type = data.type.toLowerCase() %> <%= render( {\n                cssClass: 'placeholder__svg',\n                name: 'placeholder'\n            }, 'common.render-svg' ) %> <% if ( type === 'tennis_tournament' ) { %> <%= render( {\n                    cssClass: '',\n                    tournamentGroupId: data.tournamentGroup.id,\n                    year: data.year,\n                    surface: data.surface || 'hard',\n                    objectFit: true\n                }, 'common.tournament-background-image' ) %> <% } else { %> <%= render( { data : {\n                    title: data.title,\n                    mediaQueryConfig: data.mediaQueryConfig,\n                    cssClass: data.cssClass,\n                    objectFit: data.objectFit\n                } }, 'common.lazy-image' ) %> <% } %> <% if( type === 'playlist' || type === 'video' ) { %> <%\n                    let icon = type;\n                    if( type === 'playlist' ) {\n                        icon = 'photo';\n                    }\n                %> <div class=\"media-thumbnail__type-icon\"> <%= render( {\n                        cssClass: 'icn-' + type,\n                        name: icon\n                    }, 'common.render-svg' ) %> <%= render( {\n                        cssClass: 'icn-' + type + ' hover-icn',\n                        name: icon\n                    }, 'common.render-svg' ) %> </div> <% } %> </header> <div class=\"media-thumbnail__meta\"> <h3 class=\"media-thumbnail__heading\" data-text=\"<%= _.escape( data.title ) %>\"><%= data.title %></h3> <% if ( data.startDate && data.endDate ) { %> <span class=\"media-thumbnail__tag media-thumbnail__tag--tournament\"> <time date-time=\"<%= moment( data.startDate, 'YYYY,MM,DD').format( 'YYYY-MM-DD' ) %>\"> <%= moment( data.startDate, \"YYYY,MM,DD\").format( 'MMM D' ) %> </time> - <time date-time=\"<%= moment( data.endDate, 'YYYY,MM,DD').format( 'YYYY-MM-DD' ) %>\"> <%= moment( data.endDate, \"YYYY,MM,DD\" ).format( 'MMM D, YYYY' ) %> </time> <span class=\"media-thumbnail__location\"> <%= data.location %> </span> </span> <% } else { %> <span class=\"media-thumbnail__tag\"> <%= data.subtitle || '' %> <time class=\"media-thumbnail__date\"> <% if( data.publishedAgo ) { %> <%= render( {\n                                cssClass: 'icn-clock',\n                                name: 'clock'\n                            }, 'common.render-svg' ) %> <%= data.publishedAgo %> <% } %> </time> </span> <% } %> </div> </a> </article> "),PULSE.app.templates["common.modal"]=_.template('<figure class="modal js-modal" data-widget="lazy-load-images"> <button data-modal-action="close" class="modal__close"> <i class="icon">X</i> <span class="u-screen-reader"><%= PULSE.I18N.lookupKey( \'label.modalClose\' ) %></span> </button> <div class="modal__container" data-modal-action="close"> <%= data.lazyImage( { data : {\n            desktopImageUrl: data.leadMediaUrls.thumbnail,\n            desktopImageUrlRetina: data.leadMediaUrls.thumnailRetina,\n            mobileImageUrl: data.leadMediaUrls.thumbnailMobile,\n            mobileImageUrlRetina: data.leadMediaUrls.thumbnailMobileRetina,\n            cssClass: data.pictureCssClass,\n            objectFit: data.objectFit\n        } } ) %> <nav class="modal__nav"> <button data-modal-action="prev" class="modal__button"> <i class="icon">&larr;</i> <span class="u-screen-reader"><%= PULSE.I18N.lookupKey( \'label.modalPrevious\' ) %></span> </button> <button data-modal-action="next" class="modal__button"> <i class="icon">&rarr;</i> <span class="u-screen-reader"><%= PULSE.I18N.lookupKey( \'label.modalNext\' ) %></span> </button> </nav> </div> </figure> '),PULSE.app.templates["common.picture-element"]=_.template("<% if ( mediaQueryConfig ) { %> <picture class=\"<%= typeof cssClass !== 'undefined' ? cssClass : '' %> <%= objectFit ? 'object-fit-cover-picture' : 'picture' %>\" data-photo-id=\"<%= typeof photoId !== 'undefined' ? photoId : '' %>\"> <% _.each( mediaQueryConfig, function( conf ) { %> <% if ( conf.name === 'default' ) { %> <img class=\"<%= objectFit ? 'object-fit-cover-picture' : 'picture' %>__img <%= typeof fadeInOnLoad !== 'undefined' && fadeInOnLoad ? 'js-faded-image fade-in-on-load' : '' %>\" src=\"<%= conf.variantUrls[ 0 ] %>\" alt=\"<%= title %>\"> <% } else { %> <% var sourceConfig = helper.template.getSourceConfig( conf ) %> <source srcset=\"<%= sourceConfig.srcset %>\" media=\"<%= sourceConfig.mediaQuery %>\"> <% } %> <% } ); %> </picture> <% } %>"),PULSE.app.templates["common.player-headshot"]=_.template('<% var modifier = typeof styleModifier !== \'undefined\' ? \'player-headshot--\' + styleModifier : \'\' %> <div class="player-headshot <%= modifier %> <%= cssClass %> u-observed has-placeholder" data-widget="player-headshot" data-init-when-visible="true" data-player="<%= id %>" data-size="<%= size %>" data-object-fit="<%= ( typeof objectFit !== \'undefiend\' && objectFit ) ? \'true\' : \'false\' %>" data-picture-in-view="false"> </div> '),PULSE.app.templates["common.player-thumbnail"]=_.template('<article class="player-thumbnail" data-widget="lazy-load-images"> <% if( typeof hasLink === \'undefined\' || hasLink ) { %> <a class="player-thumbnail__inner player-thumbnail__inner--link" href="<%= data.link %>" title="<%= data.fullName.replace(\'"\', \'\') %>" aria-label="<%= data.fullName.replace(\'"\', \'\') %>"> <% } else { %> <div class="player-thumbnail__inner"> <% } %> <figure class="player-thumbnail__image-container"> <% if (data.ranking) { %> <div class="player-thumbnail__rank"> <span class="player-thumbnail__rank-label"><%= PULSE.I18N.lookupKey( \'label.rank\' ) %></span> <span class="player-thumbnail__rank-pos"><%= data.ranking %></span> </div> <% } else if (data.seed) { %> <div class="player-thumbnail__rank"> <span class="player-thumbnail__rank-label"><%= PULSE.I18N.lookupKey( \'label.seed\' ) %></span> <span class="player-thumbnail__rank-pos"><%= data.seed %></span> </div> <% } %> <div class="player-thumbnail__tags"> <% if (data.winner) { %> <div class="player-thumbnail__tag player-thumbnail__tag--winner"> <%= render( {\n                            cssClass: \'player-thumbnail__tag-icon\',\n                            name: \'trophy\'\n                        }, \'common.render-svg\' ) %> <%= PULSE.I18N.lookupKey( \'label.tournament.champion\' ) %> </div> <% } %> <% if (data.runnerUp) { %> <div class="player-thumbnail__tag player-thumbnail__tag--runnerup"> <%= render( {\n                            cssClass: \'player-thumbnail__tag-icon\',\n                            name: \'trophy\'\n                        }, \'common.render-svg\' ) %> <%= PULSE.I18N.lookupKey( \'label.tournament.runnerup\' ) %> </div> <% } %> </div> <% if( typeof hasLink === \'undefined\' || hasLink === true ) { %> <%= render( {\n                    cssClass: \'player-thumbnail__picture\',\n                    id: data.id,\n                    styleModifier: \'thumbnail\',\n                    size: \'THUMBNAIL\',\n                    objectFit: true\n                }, \'common.player-headshot\' ) %> <% } else { %> <div class="player-headshot player-headshot--thumbnail player-thumbnail__picture u-observed has-placeholder"></div> <% } %> </figure> <header class="player-thumbnail__meta"> <h3 class="player-thumbnail__name"> <span class="player-thumbnail__first-name" data-text="<%= _.escape( data.firstName.toLowerCase() ) %>"><%= data.firstName.toLowerCase() %></span> <span class="player-thumbnail__last-name <%= data.lastName.length > 8 ? \'player-thumbnail__last-name--long\' : \'\'%>" data-text="<%= _.escape( data.lastName.toLowerCase() ) %>"><%= data.lastName.toLowerCase() %></span> </h3> <div class="player-thumbnail__details"> <% if ( data.countryCode ) { %> <%= render( {\n                        cssClass: \'player-thumbnail__nationality-flag\',\n                        countryCode: data.countryCode\n                    }, \'common.flag-svg\' ) %> <span class="player-thumbnail__nationality-label"><%= data.countryCode %></span> <% } %> </div> <% if ( typeof showType !== \'undefined\' && showType ) { %> <div class="player-thumbnail__type"> <%= PULSE.I18N.lookupKey( \'label.cardType.player\' ) %> </div> <% } %> </header> <% if( typeof hasLink === \'undefined\' || hasLink ) { %> </div></a> <% } else { %>  <% } %> </article> '),PULSE.app.templates["common.render-svg"]=_.template('<svg class="icon <%= typeof cssClass !== \'undefined\' ? cssClass : \'\' %>"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%= environment.cdn %>i/svg-output/icons.svg#icn-<%= name %>"></use> </svg> '),PULSE.app.templates["common.retired-marker"]=_.template("<span class=\"match-table__ret\" title=\"<%= PULSE.I18N.lookupKey( 'label.matchCentre.retired.title' ) %>\"><%= PULSE.I18N.lookupKey( 'label.matchCentre.retiredShort' ) %></span>"),PULSE.app.templates["common.standard-article-thumbnail-meta"]=_.template("<p class=\"media-thumbnail__summary\"><%= ( data.summary ) ? data.summary : '' %></p> <time class=\"media-thumbnail__date\"><%= moment( data.date ).format( 'DD MMM YY' ) %></time> "),PULSE.app.templates["common.tournament-background-image"]=_.template("<%\n\tvar objectFit = ( typeof objectFit !== 'undefiend' && objectFit ) ? 'true' : 'false';\n\tvar cssClass = ( typeof cssClass !== 'undefiend' && cssClass ) ? cssClass : '';\n %> <div class=\"tournament-background-image tournament-background-image--<%= typeof surface !== 'undefined' ? surface.toLowerCase() : 'hard' %> <%= cssClass %>\" data-init-when-visible=\"true\" data-tournament-group-id=\"<%= tournamentGroupId %>\" data-year=\"<%= year %>\" data-object-fit=\"<%= objectFit %>\" data-size=\"SMALL\" data-widget=\"tournament-background-image\"> <% /* rendered by JS, if there's a photo available */ %> </div> "),PULSE.app.templates["common.tournament-live"]=_.template("<div class=\"tournament-live\"> <div class=\"tournament-live__ball\"> <% for( let i = 0; i < 4; i++ ) { %> <%= render( {\n                cssClass: 'tournament-live__ball-icon',\n                name: 'ball'\n            }, 'common.render-svg' ) %> <% } %> </div> <span><%= PULSE.I18N.lookupKey( 'label.liveTournament' ) %></span> </div>"),PULSE.app.templates["common.video-thumbnail-meta"]=_.template("<% if ( data.duration !== 0 ) { %> <span class=\"media-thumbnail__duration video-duration\"> <%= render( {\n            cssClass: 'video-duration__icon',\n            name: 'play-round'\n        }, 'common.render-svg' ) %> <span class=\"video-duration__duration\"> <%= helper.date.durationToTime( data.duration ) %> </span> </span> <% } %> <p class=\"media-thumbnail__summary\"><%= ( data.description ) ? data.description : '' %></p> <time class=\"media-thumbnail__date\"><%= moment( data.publishFrom ).format( 'DD MMM YY' ) %></time> "),PULSE.app.templates["common.walkover-marker"]=_.template("<span class=\"match-table__wo\" title=\"<%= PULSE.I18N.lookupKey( 'label.matchCentre.walkover.title' ) %>\"><%= PULSE.I18N.lookupKey( 'label.matchCentre.walkover.display' ) %></span>"),PULSE.app.templates["common.content-list-items-wrapper"]=_.template('<ul class="content-list__list <%= gridClass %>"> <% _.each( items, function( item ) { %> <li class="content-list__item"> <%= PULSE.app.templating.render( { data: item.data }, \'common.media-thumbnail\' ) %> </li> <% } ); %> </ul> '),PULSE.app.templates["common.match-wrapper"]=_.template("<li class=\"tournament-scores__item\"> <%= render( {\n        match: match,\n        data: data,\n        MATCH_STATES: MATCH_STATES\n    }, matchTemplate ? matchTemplate : 'match-updater.default' ) %> </li> "),function(i,r){var c=["click","keypress"],u=["mousedown","touchdown"],o=13,s=32;i.addAriaClickListener=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=a?c.filter(function(e){return"click"!==e}).concat(u):c,o=a?u:"click",s=function(e){return d(e,n,o)?t(e):null},l=0;l<r.length;l++)e.addEventListener(r[l],s,i);return s},i.addMultiAriaClickListener=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];Array.prototype.slice.call(e).forEach(function(e){return i.addAriaClickListener(e,t,n,a)})},i.removeAriaClickListener=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?c.filter(function(e){return"click"!==e}).concat(u):c,a=0;a<n.length;a++)e.removeEventListener(n[a],t)},i.resetAriaMenuAttributes=function(e){e.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true")},i.toggleAriaMenuAttributes=function(e){var t=e.getAttribute("aria-expanded"),n=e.getAttribute("aria-hidden");if(void 0!==t){var a="true"===t?"false":"true";e.setAttribute("aria-expanded",a)}if(void 0!==n){var i="true"===n?"false":"true";e.setAttribute("aria-hidden",i)}},i.toggleZIndex=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"a",n=[].slice.call(e.querySelectorAll(t)),a=0;a<n.length;a++){var i="-1"===n[a].getAttribute("tabindex");r.style.hasClass(n[a],"js-no-keyboard-focus")||(i&&l(t)?n[a].removeAttribute("tabindex"):i?n[a].setAttribute("tabindex","0"):n[a].setAttribute("tabindex","-1"))}};var l=function(e){return"a"===e},d=function(e,t,n){var a=Array.isArray(n)?n.includes(e.type):e.type===n;return!(e.which!==o&&!a)||!(!t||e.which!==s)}}(PULSE.app.common,PULSE.core),function(e){e.browser={},e.browser.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")}}(PULSE.app.common),function(e){var a=[],i=function(e){for(var t=void 0,n=0;n<a.length;n++)!(t=a[n])||e.target===t.preventTriggerOn||t.preventTriggerOn&&t.preventTriggerOn.contains(e.target)||t.element===e.target||t.preventTriggerOn===e.target||"function"!=typeof t.callback||t.callback(t.element)};e.closeOnOutsideClick={addElement:function(e,t,n){0===a.length&&document.addEventListener("click",i),a.push({element:e,callback:t,preventTriggerOn:n})},removeElement:function(e){for(var t=0;t<a.length;t++)a[t]&&a[t].element===e&&a.splice(t,1);0===a.length&&document.removeEventListener("click",i)}}}(PULSE.app.common);var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o){o.content={};var n=[1,2];o.content.hasTag=function(e,t){for(var n=0;n<e.tags.length;n++){var a=e.tags[n];if(void 0!==a.label&&a.label===t)return!0}return!1},o.content.hasReference=function(e,t){var n=void 0;if("string"==typeof t){if(!t.match(/(\w):(\d+)/))return console.warn("Tried to match invalid reference string"),!1;n=t.toLowerCase()}else n=t.type.toLowerCase()+":"+t.id;for(var a=0;a<e.references.length;a++){var i=e.references[a];if(n===i.type.toLowerCase()+":"+i.id)return!0}return!1},o.content.getContentModel=function(e,t){var n=e;if("TENNIS_TOURNAMENTGROUP"===n.type)(n=new o.TennisTournament(n)).mediaQueryConfig=t,n.link=o.url.generateUrl(n);else if("photo"!==n.type){var a=o.content.getImageFromContentItem(n);n.mediaQueryConfig=i(a,t),n.link=o.url.generateUrl(n)}else n.mediaQueryConfig=i(n,t),n.playlist?(n.link=o.url.generateUrl(n.playlist),n.link+=o.url.generateUrl(n)):n.link="";return n},o.content.getTotalDuration=function(e){var t=e.reduce(function(e,t){return e+t.duration},0);return o.date.durationToTime(t)},o.content.getVariantUrls=function(a,e){var t,i={},r=function(e,t){var n=o.image.getVariantByTag(a,e);n&&(i[t]=n.url)};if(a.length)if(_.isArray(e))e.forEach(function(a){a.tags.forEach(function(e,t){var n=a.name+(0===t?"":"Retina");r(e,n)})});else if("object"===(void 0===e?"undefined":_typeof(e)))for(t in e)({}).hasOwnProperty.call(e,t)&&r(e[t],t);return i},o.content.getImageFromContentItem=function(e){var t=void 0;if("photo"===e.type)t=e;else if("video"===e.type&&e.thumbnail)t=e.thumbnail;else if(["bio","tennis_coach","director"].includes(e.type)&&e.headshot)t=e.headshot;else{var n=e.leadMedia||e.coverItem||e.promoItem;"playlist"===e.type&&e.coverItem&&"playlist"===e.coverItem.type&&(n=e.coverItem.coverItem),n&&("photo"===n.type?t=n:"video"===n.type&&n.thumbnail&&(t=n.thumbnail))}return t};var i=function(i,e){if(i&&i.onDemandUrl)return e.map(function(e){var a=_extends({},e),t=a.multipliers||n;return a.variantUrls=t.map(function(e){var t=(a.size.height||0)*e,n=(a.size.width||0)*e;return o.image.getOnDemandImageUrl(i,t,n)}),a})}}(PULSE.app,PULSE.app.common),function(e,c,t,u){e.date={},e.date.momentGetDaysFromRange=function(e,t,n,a){var i=e instanceof Date?e:new Date(e),r=t instanceof Date?t:new Date(t),o=[],s=i.getTime();a&&i.toLocaleDateString()!==r.toLocaleDateString()&&o.push({date:i,string:u&&n?u(i).locale(c.language).format(n):i.toLocaleDateString(),std:!!u&&u(i).format("DD-MM-YYYY")});do{s+=864e5;var l=new Date(s);o.push({date:l,string:u&&n?u(l).locale(c.language).format(n):l.toLocaleDateString(),std:!!u&&u(l).format("DD-MM-YYYY")})}while(s<r.getTime());return o},e.date.getTime=function(e){if(e){var t="string"==typeof e?new Date(e):e,n=t.getHours(),a=t.getMinutes();return n<10&&(n="0"+n),a<10&&(a="0"+a),n+":"+a}return null},e.date.getSinceString=function(e,t){if(e){var n=new Date,a=Math.floor((n-e)/1e3);return a<=0?t?t.justNow:"just now":a<60?Math.round(a)+(t?t.seconds:"s"):a<3600?Math.round(a/60)+(t?t.minutes:"m"):a<86400?Math.round(a/3600)+(t?t.hours:"h"):Math.round(a/86400)+(t?t.days:"d")}return""},e.date.durationToTime=function(e){var t=parseInt(e,10);if(t){var n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),i=t-3600*n-60*a;n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i);var r=a+":"+i;return 0<n?n+":"+r:r}return"00:00"},e.date.formatPublishedAgoDate=function(e,t){var n=Date.now()-e,a="",i=Math.floor(n/36e5),r=u(new Date(e));if(1728e5<n){if(!t)return"";a=r.format("MMMM d, ")+' <span class="year">'+r.format("YYYY")+"</span>"}else 0===i?a=PULSE.I18N.lookup("label.now"):1===i?a=PULSE.I18N.lookup("label.timestamp.hours.singular"):0<i&&i<24?a=PULSE.I18N.lookup("label.timestamp.hours.plural",{hours:i}):24<=i&&i<48&&(a=PULSE.I18N.lookup("label.timestamp.days.singular"));return a}}(PULSE.app.common,PULSE.app,PULSE.core,moment),function(e){e.event={},e.event.dispatch=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.body).dispatchEvent(new CustomEvent(e,{detail:t}))}}(PULSE.app.common);_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};!function(e,t){t.image={},t.image.getVariantByTag=function(e,t){for(var n=0;n<e.length;n++)if(e[n].tag.label===t)return e[n];return null},t.image.getOnDemandImageUrl=function(e,t,n){if(e&&e.onDemandUrl){var a=[];return t&&a.push("height="+t),n&&a.push("width="+n),0<a.length?e.onDemandUrl+"?"+a.join("&"):e.onDemandUrl+"?width=500"}},t.image.getVariantWithWidth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=1/0,r=!1;return e.forEach(function(e,t){var n=Math.abs(e.width-a);n<i&&(i=n,r=t)}),e[r]},t.image.getMediaQuerySet=function(e,t){var o=e.originalDetails.width,s=e.originalDetails.height;return t.map(function(e){var t=e.size.width,n=e.size.height,a=_extends({},e);if(void 0!==t){var i=l(o,t,e.multipliers);0===i.length?(a.multipliers=[1],a.size.width=o):a.multipliers=i}if(void 0!==n){var r=l(s,n,e.multipliers);0===r.length?(a.multipliers=[1],a.size.height=s):a.multipliers.length>r.length&&(a.multipliers=r)}return a})};var l=function(t,n,e){return e.filter(function(e){return n*e<=t})}}(PULSE.app,PULSE.app.common),function(e,t){t.metadata={},t.metadata.setTitles=function(e){if(e){var t=document.head.querySelector("title"),n=document.head.querySelector('meta[name="twitter:title"]')||null,a=document.head.querySelector('meta[property="og:title"]')||null;t.textContent!==e&&(t.textContent=e,n&&n.setAttribute("content",e),a&&a.setAttribute("content",e))}},t.metadata.setDescriptions=function(e){if(e){var t=document.head.querySelector('meta[name="description"]')||null,n=document.head.querySelector('meta[name="twitter:description"]')||null,a=document.head.querySelector('meta[property="og:description"]')||null;t&&t.getAttribute("content")!==e&&(t.setAttribute("content",e),n&&n.setAttribute("content",e),a&&a.setAttribute("content",e))}}}(PULSE.app,PULSE.app.common),function(e){void 0===e.security&&(e.security={}),e.security.sanitize=function(e){return e.replace(/(&|<|"|\/|>|\(|\)|;)/g,"")}}(PULSE.app.common),function(o){var s=function(){return PULSE.I18N.lookup("label.twitter.via")},l=function(){return PULSE.I18N.lookup("label.social.via")},c={twitter:{url:"http://www.twitter.com/intent/tweet?text="},facebook:{url:"http://www.facebook.com/sharer/sharer.php?u="},facebookMessenger:{url:"fb-messenger://share/?link="},googleplus:{url:"http://plus.google.com/share?url="},whatsapp:{url:"https://wa.me/?text="},email:{url:"mailto:?body="}},t={width:"500",height:"500",menubar:0,location:1,resizable:0,scrollbars:0,status:0,titlebar:0,toolbar:0};o.social={},o.social.buildShareUrl=function(e,t,n){var a=t||window.location.href,i=u(),r=c[e].url;switch(e){case"facebook":case"googleplus":case"facebookMessenger":return r+encodeURIComponent(a);case"twitter":return n?r+encodeURIComponent(n+" "+s()+" "+a):i?r+encodeURIComponent(i+" "+s()+" "+a):r+encodeURIComponent(a+" "+s());default:return i?r+encodeURIComponent(i+" "+l()+" "+a):r+encodeURIComponent(n+" "+l()+" "+a)}},o.social.makeWindowConfigString=function(e){var n=e||t;return Object.keys(n).reduce(function(e,t){return e+(t+"=")+n[t]+","},[])},o.social.sharePage=function(e,t,n,a){var i=o.social.buildShareUrl(e,t,a),r=o.social.makeWindowConfigString(n);window.open(i,"_blank",r)};var u=function(){return document.querySelector(".js-page-title")}}(PULSE.app.common);_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};!function(a){a.template={},a.template.cleanString=function(e){return _.escape(JSON.stringify(e||""))},a.template.getNumberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},a.template.getSourceConfig=function(e){var t="";t=1<e.variantUrls.length?e.variantUrls.join(", ")+" 2x":e.variantUrls.join("");var n=[];return void 0!==e.minWidth&&n.push("(min-width: "+e.minWidth+"px)"),void 0!==e.maxWidth&&n.push("(max-width: "+e.maxWidth+"px)"),{srcset:t,mediaQuery:n.join(" and ")}},a.template.formatTitle=function(e){var n=e;if(-1===n.indexOf("|")){var t=n.split(" ");return t[0]="<strong>"+t[0]+"</strong>",t.join(" ")}n.split("|").length%2==0&&(n+="|");var a=e.match(/(\|)([^|]+)(\|)/g);return a&&a.forEach(function(e){var t="<strong>"+e.substring(1,e.length-1)+"</strong>";n=n.split(e).join(t)}),n},a.template.pluralise=function(e,t,n,a){return(a?e+" ":"")+("1"===e.toString()?t:n)},a.template.separateCharacters=function(e,t){var n="";if(void 0!==e)for(var a=e.toString().split(""),i=t||"",r=0;r<a.length;r++)n+='<span class="'+i+'">'+a[r]+"</span>";return n},a.template.getTournamentTitle=function(e,t){return void 0!==t&&e.tournamentGroup.metadata&&e.tournamentGroup.metadata["sponsoredName"+t]?e.tournamentGroup.metadata["sponsoredName"+t]:e.title},a.template.getMatchClass=function(e){return"js-match-"+(String(e.EventID).length<4?"0"+e.EventID:e.EventID)+"-"+e.EventYear+"-"+e.MatchID},a.template.seoTitle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=e.replace('"',"");return'title="'+t+'" aria-label="'+t+'"'}return e},a.template.markupScoreString=function(e){var t=a.tennis.getScoresFromString(e),n=a.tennis.formatSets(_extends({},e,t));return Array.isArray(n)?n.reduce(i,[]).join(""):e.scores};var i=function(e,t){if(a.tennis.checkScore(t.a)&&a.tennis.checkScore(t.b)){var n="";return"A"===t.winner?n+="<strong>"+t.a+"</strong>":(n+=t.a,t.tie&&t.winner&&(n+="<sup>"+t.tie+"</sup>")),n+="-","B"===t.winner?n+="<strong>"+t.b+"</strong>":(n+=t.b,t.tie&&t.winner&&(n+="<sup>"+t.tie+"</sup>")),e.push('<span class="set-score-string">'+n+"</span>"),e}return e}}(PULSE.app.common),function(a){var t={PLAYER_A_WON:["2","4","6"],PLAYER_B_WON:["3","5","7"]},n=a.CONSTANTS.MATCH_STATES.MATCH_INFO,i=1,r=2,o=3,s=4,l={FINAL:2,SEMI_FINAL:4};a.tennis={},a.tennis.formatSets=function(t){var e=[{a:a.tennis.checkScore(t.ScoreSet1A)?Number(t.ScoreSet1A):"",b:a.tennis.checkScore(t.ScoreSet1B)?Number(t.ScoreSet1B):"",tie:t.ScoreTbSet1,num:1},{a:a.tennis.checkScore(t.ScoreSet2A)?Number(t.ScoreSet2A):"",b:a.tennis.checkScore(t.ScoreSet2B)?Number(t.ScoreSet2B):"",tie:t.ScoreTbSet2,num:2},{a:a.tennis.checkScore(t.ScoreSet3A)?Number(t.ScoreSet3A):"",b:a.tennis.checkScore(t.ScoreSet3B)?Number(t.ScoreSet3B):"",tie:t.ScoreTbSet3,num:3}];return"9"===t.ScoreSys&&t.MatchState===n.FINISHED&&(e[2]=a.tennis.calculateMatchTiebreak(e[2])),e.forEach(function(e){e.winner=a.tennis.getSetWinner(e),e.playing=a.tennis.getSetPlaying(e,t.MatchState),e.tieOutput=a.tennis.getSetTieOutput(e,t.ScoreSys)}),e},a.tennis.checkScore=function(e){return""!==e&&void 0!==e},a.tennis.calculateMatchTiebreak=function(e){return e.a>e.b&&e.tie?(e.a=Number(e.tie)+2,e.a<10&&(e.a=10),e.b=e.tie):e.b>e.a&&e.tie&&(e.a=e.tie,e.b=Number(e.tie)+2,e.b<10&&(e.b=10)),e},a.tennis.getSetWinner=function(e){return 6<=e.a&&(e.a>=e.b+2||e.a>e.b&&""!==e.tie)?"A":6<=e.b&&(e.b>=e.a+2||e.b>e.a&&""!==e.tie)?"B":""},a.tennis.getSetPlaying=function(e,t){return(0!==e.a||0!==e.b)&&""===e.winner&&t!==n.FINISHED},a.tennis.getSetTieOutput=function(e,t){var n={a:"",b:""};return!e.winner||!e.tie||3===e.num&&"9"===t||("A"===e.winner?n.b=e.tie:"B"===e.winner&&(n.a=e.tie)),n},a.tennis.getGameWinner=function(e){return t.PLAYER_A_WON.includes(e)?"A":t.PLAYER_B_WON.includes(e)?"B":""},a.tennis.isLiveMatch=function(e){switch(e){case n.ON_COURT:case n.WARMUP:case n.PLAYING:case n.TOILET_BREAK:case n.MEDICAL_TIMEOUT:case n.CHALLENGE_IN_PROG:case n.CORRECTION_MODE:return!0;default:return!1}},a.tennis.getScoresFromString=function(e){var i=e.winner-1,r=0===i?1:0,t=e.scores.replace(/\s+/g," ").split(" "),o=["A","B"],s={ScoreSet1A:"",ScoreSet1B:"",ScoreSet2A:"",ScoreSet2B:"",ScoreSet3A:"",ScoreSet3B:""};return t.forEach(function(e,a){e.split("-").forEach(function(e,t){var n=e.split("(");1<n.length?s["ScoreTbSet"+(a+1)]=n[1].replace(")",""):s["ScoreTbSet"+(a+1)]="",s["ScoreSet"+(a+1)+(0===t?o[i]:o[r])]=n[0]})}),s},a.tennis.getTournamentTitle=function(e){return e.title?e.title.split(" - ")[0]:e.tournamentGroup.name},a.tennis.getRoundKey=function(e){if(!e||"string"!=typeof e)return"";var t=parseInt(e.replace(/[^0-9]/g,""));if(t){if(t<5)switch(t){case i:return"F";case r:case o:return"S";case s:return"Q";default:return""}var n=Math.pow(2,Math.ceil(Math.log(t+1)/Math.log(2)));return n<16?"Q":n}return""},a.tennis.getGrandSlamRoundKey=function(e){if(!e||"string"!=typeof e)return"";var t=Math.pow(2,9-parseInt(e.charAt(0)));if(t){if(t<16)switch(t){case l.FINAL:return"F";case l.SEMI_FINAL:return"S";default:return"Q"}return t}return""},a.tennis.getReasonFromCode=function(e){var t=null,n=a.CONSTANTS.MATCH_REASONS;if(e)switch(e){case"B":t=n.BYE;break;case"D":t=n.WALKOVER;break;case"R":t=n.RETIRED;break;case"UNP":t=n.UNPLAYED;break;case"V":t=n.DEFAULT;break;case"W":t=n.WON_MATCH;break;default:console.warn("common.tennis.getReasonFromCode: reasonCode "+e+" doesn't match any switch cases.")}return t}}(PULSE.app.common),function(o,i,s){i.url={},i.url.createContentPath=function(e,t,n,a){var i=e?e.toLowerCase()+"/":"",r=o.environment.api+"/content/"+o.account+"/"+i+(n||o.defaultLanguage)+"/"+(a||"");return t&&(r+="?"+s.buildQueryString(t)),r},i.url.createLiveBlogUrl=function(e,t,n){var a=o.environment.api+"/liveblog/"+o.account+"/"+(t||o.defaultLanguage)+(n?"/"+n:"");return e&&(a+="?"+s.buildQueryString(e)),a},i.url.generateUrl=function(e){var t="//"+o.environment.domain,n=e.type.toLowerCase(),a=void 0;if(e.hotlinkUrl)return t+e.hotlinkUrl;switch(n){case"text":return"es"===e.language?t+="/news/es/"+e.id+"/"+i.url.urlify(e.title):t+="/news/"+e.id+"/"+i.url.urlify(e.title),t;case"video":return t+="/videos/"+e.id+"/"+i.url.urlify(e.title);case"playlist":return"photo"===e.typeRestriction.toLowerCase()&&(t+="/photos/"+e.id+"/"+i.url.urlify(e.title)),t;case"photo":return t+=i.url.generateUrl(e.playlist)+"/"+e.id+"/",e.description&&(t+=i.url.urlify(e.description)),t;case"tennis_player":return t+="/players/"+(e.id||e.player.id)+"/"+i.url.urlify(e.fullName||e.player.fullName);case"tennis_tournament":switch(e.status){case"past":case"live":a="/"+e.year+"/scores";break;default:a=""}return t+="/tournament/"+e.tournamentGroup.id+"/"+i.url.urlify(e.tournamentGroup.name)+a;case"tennis_coach":return e.firstName&&e.lastName?t+="/coaches/"+e.id+"/"+i.url.urlify(e.firstName+" "+e.lastName):t+="/coaches/"+e.id+"/"+i.url.urlify(e.forename+" "+e.surname),t;case"director":return t+="/board-of-directors/"+e.id+"/"+i.url.urlify(e.forename+" "+e.surname);default:return""}},i.url.getPlayerURL=function(e,t){return"/players/"+e+"/"+i.url.urlify(t)},i.url.prepareParams=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(void 0===a){console.warn("Value for '"+n+"' in object 'params' was undefined. The key '"+n+"' has been omitted from the query string. Please be explicit with values, e.g. boolean or empty string");continue}var i=[n,encodeURIComponent(a)];t.push(i.join("="))}return 0<t.length?"?"+t.join("&"):""},i.url.getFilterFromRequest=function(n){var i={};return["tagNames","tagExpression","references","referenceExpression"].forEach(function(a){var e=s.getParameterByName(a,n);if(e){var t=-1<a.search("Expression")?" or ":",";i[a]=e.split(t).map(function(e){var t=e.trim();if(-1===a.search("reference"))return t;var n=t.match(/(\w+):(\d+)/);return n&&n.length?{type:n[1],id:n[2]}:void 0}).filter(function(e){return void 0!==e})}}),i},i.url.createCanaryStreamPath=function(e){var t=o.environment.canary,n="";return e&&e.pageSize&&(n+="?pageSize="+e.pageSize),e&&e.network&&(n+=(n?"&":"?")+"network="+e.network),"local"===o.environment.label?t+n:e&&e.references?t+"account/"+PULSE.app.environment.cmsAccount+"/contentref/"+e.references+"/posts"+n:e&&e.streamId?t+"/stream/"+e.streamId+"/posts"+n:t+"stream/combinedstream/posts"+n},i.url.createCanaryPathFromId=function(e){return o.environment.canary+"stream/"+e+"/posts"},i.url.urlify=function(e){return e.toLowerCase().replace(/[^a-z0-9]+/gi,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"")},i.url.getStatsURL=function(e){var t=e?i.url.prepareParams(e.params):"";return o.environment.tennisApi+"/stats/"+e.year+"/"+e.type+t},i.url.getPlayerStatsURL=function(e){var t=e?i.url.prepareParams(e.params):"";return o.environment.tennisApi+"/players/"+e.playerId+"/year/"+e.year+t},i.url.getRankingsURL=function(e,t){var n=e?i.url.prepareParams(e):"";return t?o.environment.tennisApi+"/players/ranked/champDoubles"+n:o.environment.tennisApi+"/players/ranked"+n},i.url.getAllTimePlayersURL=function(e){return o.environment.api+"/search/wta/?terms="+e.name+"*&size=100&type=PLAYER&typeRestriction=&start=0&fullObjectResponse=true"},i.url.getHistoricRankingsURL=function(e,t){var n=t?i.url.prepareParams(t):"";return o.environment.tennisApi+"/players/"+e+"/ranking"+n},i.url.getMatchURL=function(e,t,n,a){return o.environment.tennisApi+"/tournaments/"+e+"/"+t+"/matches/"+n+"/"+a},i.url.getPlayerMatchesURL=function(e,t){var n=t?i.url.prepareParams(t):"";return o.environment.tennisApi+"/players/"+e+"/matches/"+n},i.url.getTournamentMatchesURL=function(e,t,n){var a=n?i.url.prepareParams(n):"";return o.environment.tennisApi+"/tournaments/"+e+"/"+t+"/matches/"+a},i.url.getTournamentPlayersURL=function(e,t,n){var a=n?i.url.prepareParams(n):"";return o.environment.tennisApi+"/tournaments/"+e+"/"+t+"/players/"+a},i.url.getTournamentsURL=function(e){var t=e?i.url.prepareParams(e):"";return o.environment.tennisApi+"/tournaments/"+t},i.url.getMatchCentreURL=function(e,t){return e&&t?"/tournament/"+e.tournamentGroup.id+"/"+i.url.urlify(e.tournamentGroup.name)+"/"+e.year+"/scores/"+t:"#"},i.url.getPlayerHeadToHeadURL=function(e,t,n){var a=i.url.prepareParams(n);return o.environment.tennisApi+"/players/"+e+"/headtohead/"+t+a},i.url.getHeadToHeadStandaloneURL=function(){return"/head-to-head/"+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return null!=e&&""!==e}).join("/")},i.url.getPlayerHeadToHeadPageURL=function(e,t){return"//"+o.environment.domain+"/head-to-head/"+e+"/"+t},i.url.getCoachesEndpointURL=function(e){var t=e?i.url.prepareParams(e):"";return o.environment.tennisApi+"/coaches/"+t},i.url.getCoachEndpointURL=function(e){return o.environment.tennisApi+"/coaches/"+e},i.url.getSearchEndpoint=function(e){return o.environment.api+"/search/"+o.account+"/"+i.url.prepareParams(e)}}(PULSE.app,PULSE.app.common,PULSE.core.url),function(e){e.widget={},e.widget.getNumberAttribute=function(e,t,n){var a=void 0;if(a=n?parseFloat(t.getAttribute(e)):parseInt(t.getAttribute(e),10),!1===isNaN(a))return a},e.widget.getArrayAttribute=function(e,t){var n=t.getAttribute(e);return n?n.split(",").map(function(e){return e.trim()}).filter(function(e){return void 0!==e&&""!==e}):[]}}(PULSE.app.common),function(e){void 0===e.endpoints&&(e.endpoints={});var n=e.url.prepareParams;e.endpoints.tennis={matches:{all:function(e){return"/tennis/matches"+n(e)},single:function(e,t){return"/tennis/matches/"+e+n(t)}}}}(PULSE.app.common);_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};!function(e,i){var a=i.CONSTANTS.MATCH_STATES.MATCH_INFO;e.TennisMatch=function(e){Object.assign(this,e),this.GrandSlam=void 0!==this.GrandSlam&&this.GrandSlam,this.Teams=t(this),this.Sets=i.tennis.formatSets(this),1<this.Teams.a.length?this.IsDoubles=!0:this.IsDoubles=!1,this.GameWinner=i.tennis.getGameWinner(this.Winner),this.TranslatedStatus=n(e.MatchState),this.Tournament&&(this.link=i.url.getMatchCentreURL(this.Tournament,this.MatchID)),this.RoundKey=o(this),this.TranslatedRound=s(this.RoundKey,this)};var t=function(e){var t={a:[],b:[]};if(e.player1Info)for(var n=1;n<=4;n++){var a=e["player"+n+"Info"];a&&t[n%2==0?"b":"a"].push(_extends({},a,{country:a.countryCode,seed:e["seed_"+n]||"",link:i.url.getPlayerURL(a.id,a.fullName)}))}else t={a:[{id:e.PlayerIDA,firstName:e.PlayerNameFirstA,lastName:e.PlayerNameLastA,fullName:e.PlayerNameFirstA+" "+e.PlayerNameLastA,country:e.PlayerCountryA,seed:e.SeedA,link:i.url.getPlayerURL(e.PlayerIDA,e.PlayerNameFirstA+" "+e.PlayerNameLastA)},{id:e.PlayerIDA2,firstName:e.PlayerNameFirstA2,lastName:e.PlayerNameLastA2,fullName:e.PlayerNameFirstA2+" "+e.PlayerNameLastA2,country:e.PlayerCountryA2,seed:e.SeedA,link:i.url.getPlayerURL(e.PlayerIDA2,e.PlayerNameFirstA2+" "+e.PlayerNameLastA2)}],b:[{id:e.PlayerIDB,firstName:e.PlayerNameFirstB,lastName:e.PlayerNameLastB,fullName:e.PlayerNameFirstB+" "+e.PlayerNameLastB,country:e.PlayerCountryB,seed:e.SeedB,link:i.url.getPlayerURL(e.PlayerIDB,e.PlayerNameFirstB+" "+e.PlayerNameLastB)},{id:e.PlayerIDB2,firstName:e.PlayerNameFirstB2,lastName:e.PlayerNameLastB2,fullName:e.PlayerNameFirstB2+" "+e.PlayerNameLastB2,country:e.PlayerCountryB2,seed:e.SeedB,link:i.url.getPlayerURL(e.PlayerIDB2,e.PlayerNameFirstB2+" "+e.PlayerNameLastB2)}]};return t.a=t.a.filter(r),t.b=t.b.filter(r),t},r=function(e){return e.id},n=function(e){var t=PULSE.I18N.lookup("label.matchState."+e);return t.startsWith("label")?"":t},o=function(e){if(e.DrawLevelType&&"Q"===e.DrawLevelType)return"";if(e.round_name){var t=e.round_name;switch(t){case"Q":case"S":case"F":return t;case"SF":return"S";default:return"string"==typeof t?t.replace("R",""):t}}else{if(e.GrandSlam)return i.tennis.getGrandSlamRoundKey(e.RoundID);if(e.MatchID){var n=i.tennis.getRoundKey(e.MatchID);return e.RoundID&&"G"===e.RoundID&&"F"!==n?"G":e.MatchState===a.UPCOMING&&e.Tournament&&e.Tournament.tournamentGroup&&e.Tournament.tournamentGroup.level&&"Finals"===e.Tournament.tournamentGroup.level?"F"===n?n:"":n}}return""},s=function(e){if("Q"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).DrawLevelType)return PULSE.I18N.lookup("label.matchType.qualifying");if(e)switch(e){case"Q":case"S":case"F":case"G":return PULSE.I18N.lookup("label.matchCentre.round."+e);default:return"string"==typeof e&&e.match(/^\d$/)?PULSE.I18N.lookup("label.matchCentre.round",{number:e}):PULSE.I18N.lookup("label.matchCentre.roundOf",{number:e})}return""}}(PULSE.app,PULSE.app.common);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,e,a){var r=e.EVENTS.PHOTO_MARKER.WAITING,o=e.EVENTS.PHOTO_MARKER.NEW_DATA,s="has-placeholder",l="is-loaded",c=".js-faded-image",u={};i.PhotoMarker=function(e,t){if(this.container=e,this.config={groupId:t.groupId,groupBy:t.groupBy||e.getAttribute("data-group-by"),setSize:e.getAttribute("data-size"),filter:this.getFilter()},this.configIsValid()){this.onImageLoad=function(e){a.style.removeClass(this.container,s);var t=this.container.querySelector(c);a.style.addClass(t,l),e.target.removeEventListener("load",this.onImageLoad)}.bind(this);var n=this.getStoreId();u[n]?d.call(this,this.container,u[n]):(this.useLazyLoad="true"!==e.getAttribute("data-init-when-visible"),this.photoDataCallback=m.bind(this),document.body.addEventListener(o,this.photoDataCallback),this.useLazyLoad||i.common.event.dispatch(r,{groupId:this.config.groupId,filter:this.config.filter,groupBy:this.config.groupBy}))}else console.warn("Attempted to start PhotoMarker with invalid config",e)},i.PhotoMarker.prototype.teardown=function(){document.body.removeEventListener(o,this.photoDataCallback)},i.PhotoMarker.prototype.getFilter=function(){throw new PULSE.unimplementedFunctionError("PhotoMarker#getFilter")},i.PhotoMarker.prototype.configIsValid=function(){throw new PULSE.unimplementedFunctionError("PhotoMarker#configIsValid")},i.PhotoMarker.prototype.render=function(){throw new PULSE.unimplementedFunctionError("PhotoMarker#render")},i.PhotoMarker.prototype.postRender=function(){throw new PULSE.unimplementedFunctionError("PhotoMarker#postRender")},i.PhotoMarker.prototype.getStoreId=function(){throw new PULSE.unimplementedFunctionError("PhotoMarker#getStoreId")};var d=function(e,t){a.style.removeClass(e,s),e.innerHTML=t,this.postRender();var n=e.querySelector(c);n.complete?a.style.addClass(n,l):n.addEventListener("load",this.onImageLoad)},m=function(e){if(this.config.groupId===e.detail.groupId&&p(e.detail.filter,this.config.filter,this.config.groupBy)){var t=e.detail.data.content||[],n=i.common.BatchImageHandler.findMatchingPhotos(t,this.config.filter,this.config.groupBy);if(0<n.length){this.render(n),this.postRender(n),u[this.getStoreId()]=this.container.innerHTML;var a=this.container.querySelector("img");a&&a.addEventListener("load",this.onImageLoad),this.teardown()}}document.body.contains(this.container)||this.teardown()},p=function(e,t,n){var a=[],i=[];i="tags"===n?(e.referenceExpression&&(a=a.concat(e.referenceExpression.map(function(e){return e.type+":"+e.id}))),t.references):(e.tagExpression&&(a=a.concat(e.tagExpression)),t.tags);for(var r=function(t){if(void 0!==i.find(function(e){return a[t]===e}))return{v:!0}},o=0;o<a.length;o++){var s=r(o);if("object"===(void 0===s?"undefined":_typeof(s)))return s.v}return!1}}(PULSE.app,PULSE.app.common.CONSTANTS,PULSE.core),function(u,e,d,t,m,p){var h="js-picture-element";u.PlayerHeadshot=function(e){u.PhotoMarker.call(this,e,{groupBy:"tags",groupId:"player-headshots-handling"})},u.PlayerHeadshot.prototype=Object.create(u.PhotoMarker.prototype),u.PlayerHeadshot.prototype.constructor=u.PlayerHeadshot,u.PlayerHeadshot.prototype.configIsValid=function(){return!(!this.config.groupBy&&(this.filter.tags||this.filter.references))&&(void 0!==v[this.config.setSize]||(console.warn("PlayerHeadshot size unrecognised; cannot render",this.container),!1))},u.PlayerHeadshot.prototype.getFilter=function(){return this.playerId=t.getNumberAttribute("data-player",this.container),this.playerId&&!isNaN(this.playerId)?{tags:["player-headshot"],references:["TENNIS_PLAYER:"+this.playerId]}:{}},u.PlayerHeadshot.prototype.render=function(e){var t=this,n=f(e,this.config.setSize),a=n.playerPhoto,i=n.sizeTag,r=g(a,i),o=v[this.config.setSize],s=o.SIZES[i]||o.SIZES[o.PREFERRED],l=p.getMediaQuerySet(a,s),c=m.getContentModel(a,l);r.forEach(function(e){return d.style.addClass(t.container,e)}),this.container.innerHTML=u.templating.render({title:a.title,cssClass:h+" player-headshot__photo",mediaQueryConfig:c.mediaQueryConfig,objectFit:"true"===this.container.getAttribute("data-object-fit"),fadeInOnLoad:!0},"common.picture-element")},u.PlayerHeadshot.prototype.postRender=function(e){var t=this,n=this.container.querySelector("."+h),a=[];if(n&&n.getAttribute("data-size-modifiers")&&(a=n.getAttribute("data-size-modifiers").split(",")),e){var i=f(e,this.config.setSize),r=i.playerPhoto,o=i.sizeTag;a=g(r,o),n.setAttribute("data-size-modifiers",a.join(","))}a.forEach(function(e){return d.style.addClass(t.container,e)})},u.PlayerHeadshot.prototype.getStoreId=function(){return this.config.groupId+"_"+this.config.setSize+"_"+this.playerId};var f=function(e,t){var n=v[t].PREFERRED,a=e.find(function(e){return m.hasTag(e,n)});if(a)return{playerPhoto:a,sizeTag:n};var i=e[0];return{playerPhoto:i,sizeTag:r(i)}},r=function(t){return["head-cropped-photo","full-body-headshot"].find(function(e){return m.hasTag(t,e)})},g=function(e,t){var n=[];if("head-cropped-photo"!==t)return"full-body-headshot"===t&&n.push("full-body"),n;var a="head-only";n.push(a);return 200<e.originalDetails.width?n.push(a+"--large"):n.push(a+"--small"),n},n={CLOSE_UPS:{XSMALL:[{name:"circleMobile",maxWidth:u.measurements.tablet,size:{width:40},multipliers:[1,2]},{name:"circle",minWidth:u.measurements.tablet,size:{width:40},multipliers:[1,2,3]},{name:"default",size:{width:40},multipliers:[1],cssClass:""}],SMALL:[{name:"circleMobile",maxWidth:u.measurements.tablet,size:{width:56},multipliers:[1,2]},{name:"circle",minWidth:u.measurements.tablet,size:{width:56},multipliers:[1,2,3]},{name:"default",size:{width:56},multipliers:[1],cssClass:""}],MEDIUM:[{name:"circleMobile",maxWidth:u.measurements.tablet,size:{width:64},multipliers:[1,2]},{name:"circle",minWidth:u.measurements.tablet,size:{width:96},multipliers:[1,2,3]},{name:"default",size:{width:96},multipliers:[1],cssClass:""}],LARGE:[{name:"circleMobile",maxWidth:u.measurements.tablet,size:{width:80},multipliers:[1,2]},{name:"circleTablet",minWidth:u.measurements.phablet,maxWidth:u.measurements.tablet,size:{width:150},multipliers:[1,2,3]},{name:"circle",minWidth:u.measurements.phablet,size:{width:128},multipliers:[1,2,3]},{name:"default",size:{width:128},multipliers:[1],cssClass:""}]},RECTANGLE:{MEDIUM:[{name:"rectangleMobile",maxWidth:u.measurements.tablet,size:{height:95},multipliers:[1,2]},{name:"rectangle",minWidth:u.measurements.tablet,size:{height:150},multipliers:[1,2]},{name:"default",size:{height:150},multipliers:[1],cssClass:""}],LARGE:[{name:"rectangleMobile",maxWidth:u.measurements.tablet,size:{height:135},multipliers:[1,2]},{name:"rectangle",minWidth:u.measurements.tablet,size:{height:237},multipliers:[1,2]},{name:"default",size:{height:237},multipliers:[1],cssClass:""}]},FULL_BODY:{XSMALL:[{name:"headshotMobile",maxWidth:u.measurements.tablet,size:{height:100},multipliers:[1,2]},{name:"headshot",minWidth:u.measurements.tablet,size:{height:100},multipliers:[1,2,3]},{name:"default",size:{height:100},multipliers:[1],cssClass:""}],SMALL:[{name:"headshotMobile",maxWidth:u.measurements.tablet,size:{height:120},multipliers:[1,2]},{name:"headshot",minWidth:u.measurements.tablet,size:{height:120},multipliers:[1,2,3]},{name:"default",size:{height:120},multipliers:[1],cssClass:""}],MEDIUM:[{name:"headshotMobile",maxWidth:u.measurements.tablet,size:{height:200},multipliers:[1,2]},{name:"headshot",minWidth:u.measurements.tablet,size:{height:250},multipliers:[1,2,3]},{name:"default",size:{height:200},multipliers:[1],cssClass:""}],LARGE:[{name:"headshotMobile",maxWidth:u.measurements.tablet,size:{height:160},multipliers:[1,2]},{name:"headshot",minWidth:u.measurements.tablet,size:{height:360},multipliers:[1,2]},{name:"default",size:{height:360},multipliers:[1],cssClass:""}],XLARGE:[{name:"headshotMobile",maxWidth:u.measurements.tablet,size:{height:270},multipliers:[1,2]},{name:"headshot",minWidth:u.measurements.tablet,size:{height:600},multipliers:[1,2]},{name:"default",size:{height:600},multipliers:[1],cssClass:""}]}},v={CARD:{SIZES:{"full-body-headshot":n.FULL_BODY.XLARGE,"head-cropped-photo":n.RECTANGLE.LARGE},PREFERRED:"full-body-headshot"},DOUBLES_CARD:{SIZES:{"full-body-headshot":n.FULL_BODY.LARGE,"head-cropped-photo":n.RECTANGLE.MEDIUM},PREFERRED:"head-cropped-photo"},LIST:{SIZES:{"full-body-headshot":n.FULL_BODY.XSMALL,"head-cropped-photo":n.CLOSE_UPS.XSMALL},PREFERRED:"head-cropped-photo"},RANKINGS:{SIZES:{"full-body-headshot":n.FULL_BODY.SMALL,"head-cropped-photo":n.CLOSE_UPS.SMALL},PREFERRED:"head-cropped-photo"},THUMBNAIL:{SIZES:{"full-body-headshot":n.FULL_BODY.MEDIUM,"head-cropped-photo":n.CLOSE_UPS.LARGE},PREFERRED:"full-body-headshot"},DOUBLES_THUMBNAIL:{SIZES:{"full-body-headshot":n.FULL_BODY.SMALL,"head-cropped-photo":n.CLOSE_UPS.MEDIUM},PREFERRED:"head-cropped-photo"}};u.widgetInitialiser.addMultipleWidgetsByName("player-headshot",u.PlayerHeadshot)}(PULSE.app,PULSE.app.common.CONSTANTS,PULSE.core,PULSE.app.common.widget,PULSE.app.common.content,PULSE.app.common.image),function(e,s,t){var n,a=function(){var e=document.getElementById("js-cookie-notice");e&&(e&&(s.localStorage.setStorage("only-essential-cookies",!0),document.querySelectorAll(".js-cookie-notice-btn").forEach(function(e){e.addEventListener("click",t.setCookies)}),s.style.removeClass(e,"u-hide")))};t.setCookies=function(e){var t=document.location.hostname,n=document.getElementById("js-cookie-notice"),a=e.currentTarget.dataset.acceptAllCookies,i=function(e){s.localStorage.setStorage("only-essential-cookies",e),s.localStorage.setStorage("cookie-policy-chosen",!0,730,!0,t)};if("true"===a){i(!1);var r=new CustomEvent("cookiesAccepted",{detail:"all"});window.dispatchEvent(r)}else if("false"===a){i(!0);var o=new CustomEvent("cookiesAccepted",{detail:"essential"});window.dispatchEvent(o)}s.style.addClass(n,"u-hide")},(n=s.localStorage.getStorage("cookie-policy-chosen",!0))&&"true"===n||a()}(PULSE.app,PULSE.core,PULSE.app.common),function(n,a){n.CookieToggle=function(e){var t=this;t.acceptBtn=e.querySelector(".js-accept-btn"),t.declineBtn=e.querySelector(".js-refuse-btn"),t.cookieName=e.dataset.cookieName,t.exclusionCookieName=t.cookieName+"_exclusion",t.renderButton(),t.listeners()},n.CookieToggle.prototype.renderButton=function(){var e=this,t="u-hide";a.localStorage.getStorage(e.exclusionCookieName,!0)?(a.style.removeClass(e.acceptBtn,t),a.style.addClass(e.declineBtn,t)):(a.style.addClass(e.acceptBtn,t),a.style.removeClass(e.declineBtn,t))},n.CookieToggle.prototype.listeners=function(){var t=this;t.declineBtn.addEventListener("click",function(){a.localStorage.setStorage(t.exclusionCookieName,!0,730,!0,n.environment.domain);var e=new CustomEvent("cookieDeclined",{detail:t.cookieName});window.dispatchEvent(e),t.renderButton()}),t.acceptBtn.addEventListener("click",function(){a.localStorage.clearStorage(t.exclusionCookieName,!0,n.environment.domain);var e=new CustomEvent("cookieAdded",{detail:t.cookieName});window.dispatchEvent(e),t.renderButton()})},n.widgetInitialiser.addMultipleWidgetsByName("cookie-toggle",n.CookieToggle)}(PULSE.app,PULSE.core),function(e){e.ArticleTable=function(e){[].slice.call(e.children).filter(function(e){return"TABLE"===e.tagName}).forEach(function(e){var t=e.querySelector("tr"),n=t?t.children.length:0;e.outerHTML='<div class="table-container"><div class="table '+(4<n?"table--large":"")+'">'+e.outerHTML+"</div></div>"})},e.widgetInitialiser.addMultipleWidgetsByName("article-body",e.ArticleTable)}(PULSE.app),PULSE.app.common.setupAd=function(n){googletag.cmd.push(function(){var e="refresh";if("responsive"===n.size){var t=googletag.sizeMapping().addSize([1680,0],[[728,90],[970,90],[970,250],[1280,100]]).addSize([1024,0],[[728,90],[970,90],[970,250]]).addSize([992,0],[728,90]).addSize([0,0],[[320,50],[320,100],[300,250]]).build();googletag.defineSlot(n.adUnitPath,[[728,90],[970,90],[970,250],[1280,100],[320,50],[320,100],[300,250]],n.adID).setTargeting(e,"true").addService(googletag.pubads()).defineSizeMapping(t)}else googletag.defineSlot(n.adUnitPath,n.size,n.adID).setTargeting(e,"true").addService(googletag.pubads());googletag.display(n.adID)})},PULSE.app.common.configChecker=function(e,t,n){var a=[];return t=t||{},n.forEach(function(e){if(!t[e.namespace])switch(e.type){case"HTMLElement":t.container&&e.selector?(t[e.namespace]=t.container.querySelector(e.selector),t[e.namespace]||a.push("missing config."+e.namespace+", cannot find an element with the selector '"+e.selector+"'")):a.push("missing config."+e.namespace);break;case"NodeList":t.container&&e.selector?(t[e.namespace]=t.container.querySelectorAll(e.selector),t[e.namespace].length<1&&a.push("missing config."+e.namespace+", cannot find any elements with the selector '"+e.selector+"'")):a.push("missing config."+e.namespace);break;default:e.default?t[e.namespace]=e.default:a.push("missing config."+e.namespace)}}),0<a.length?(a.unshift("You have "+a.length+" errors initialising "+e),null):t},function(i,e,a){var t=e.EVENTS.PHOTO_MARKER.WAITING,n=function(){this.requests={},document.body.addEventListener(t,r.bind(this))};n.prototype.findMatchingPhotos=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"tags";return"tags"!==n||t.tags&&0!==t.tags.length||"references"!==n||t.references&&0!==t.references.length?e.filter(function(e){return"tags"===n?o(e,t.references,a.hasReference):o(e,t.tags,a.hasTag)}):[]};var r=function(e){var t=e.detail.groupId,n=e.detail.filter,a=e.detail.groupBy;this.requests[t]||(this.requests[t]=new i.common.BatchedRequest(t,a)),this.requests[t].addItem(n)},o=function(e,t,n){for(var a=0;a<t.length;a++){if(!n(e,t[a]))return!1}return!0};i.common.BatchImageHandler=new n}(PULSE.app,PULSE.app.common.CONSTANTS,PULSE.app.common.content),function(o,s,n,a){o.common.BatchedRequest=function(e,t){this.filterId=e,this.references=[],this.groupBy="references"===t?"references":"tags",this.pendingItems=[]},o.common.BatchedRequest.prototype.addItem=function(e){this.pendingItems.push(e),this.triggerTimeout()},o.common.BatchedRequest.prototype.getPhotos=function(){var t=this;e(this.pendingItems,10).forEach(function(e){return i.call(t,e)}),this.requestTimeout&&delete this.requestTimeout,this.pendingItems=[]};var i=function(e){var t=c(e,this.groupBy),n=t.tags,a=t.references,i={pageSize:100};"tags"===this.groupBy?(i.tagNames=n.join(","),i.referenceExpression=a.join(" or ")):(i.tagExpression=n.join(" or "),i.references=a.join(","));var r=o.common.url.createContentPath("photo",i);s(r,"GET",l.bind(this),this)};o.common.BatchedRequest.prototype.triggerTimeout=function(){this.requestTimeout||(this.requestTimeout=setTimeout(this.getPhotos.bind(this),500))};var l=function(e){var t=a.getFilterFromRequest(e.fullXhttpResponse.responseURL);o.common.event.dispatch(n.EVENTS.PHOTO_MARKER.NEW_DATA,{groupId:this.filterId,filter:t,data:e})},c=function(e,t){var n=[],a=[];return e.forEach(function(e){"tags"===t?(e.references&&a.push(r(e.references).join(" and ")),e.tags&&0===n.length&&n.push(e.tags)):"references"===t&&(e.tags&&n.push(e.tags.join(" and ")),e.references&&0===a.length&&(a=r(e.references)))}),{tags:n,references:a}},r=function(e){return e.map(function(e){return"string"==typeof e?e:e.type+":"+e.id})},e=function(e,t){for(var n=[],a=0;a<e.length;a+=t)n.push(e.slice(a,a+t));return n}}(PULSE.app,PULSE.core.data.request,PULSE.app.common.CONSTANTS,PULSE.app.common.url),function(e,n){var a={root:null,rootMargin:"0px",threshold:.025};e.LazyLoad=function(e){var t=[].slice.call(e.querySelectorAll(".js-lazy-load")),n=this.getUnobservedElements(t);this.setObservableListener(n)},e.LazyLoad.prototype.getUnobservedElements=function(e){return e.filter(function(e){return e&&"true"!==e.getAttribute("data-picture-in-view")})},e.LazyLoad.prototype.setObservableListener=function(e){var t=this;t.observer=new IntersectionObserver(i,a),e.forEach(function(e){t.observer.observe(e)})};var i=function(e){e.forEach(function(e){var t=e.target;if(t){var n=t.getAttribute("data-picture-in-view");if(!1!==e.isIntersecting&&"true"!==n){t.setAttribute("data-picture-in-view","true");var a=o(t);a&&t.insertAdjacentHTML("beforeend",a.textContent.trim());var i=t.querySelector(".js-faded-image");i&&(i.complete?r(i,t):i.addEventListener("load",function(){r(i,t)}))}}})},r=function(e,t){n.style.addClass(e,"is-loaded"),n.style.addClass(t,"is-loaded")},o=function(e){for(var t=0;t<e.childNodes.length;t++)if(e.childNodes[t].nodeType===Node.COMMENT_NODE)return e.childNodes[t];return null};e.widgetInitialiser.addMultipleWidgetsByName("lazy-load-images",e.LazyLoad)}(PULSE.app,PULSE.core),function(n,a,i){n.LoadMore=function(e){var t={page:parseInt(e.page,10),pageSize:parseInt(e.pageSizeLoadMore||e.pageSize,10),tagNames:e.defaultTags,references:e.references,referenceExpression:e.referenceExpression,playlistTypeRestriction:e.playlistTypeRestriction,publishedAfter:e.publishedAfter,publishedBefore:e.publishedBefore};this.filters=new i.filterOptions(t),this.language=e.language||n.defaultLanguage,this.contentTypes=e.contentTypes},n.LoadMore.prototype.getContent=function(t){var n=this,e={url:n.buildQuery().endpoint,method:"GET",callback:function(e){n.handleResponse(e,t)},forceCallback:!0,target:n};a.data.manager.add(e)},n.LoadMore.prototype.buildQuery=function(){var e=this,t={};return t.filterParams=e.filters.get(),t.type="",1<e.contentTypes.length?t.filterParams.contentTypes=e.contentTypes.map(function(e){return e.toLowerCase()}):t.type=(e.contentTypes[0]||"").toLowerCase(),t.endpoint=n.common.url.createContentPath(t.type,t.filterParams,e.language),t},n.LoadMore.prototype.handleResponse=function(e,t){void 0!==e.content&&0!==e.content.length||console.warn("Data was not received from API"),this.filters.updateFilters({page:this.filters.get().page+1}),t(e)}}(PULSE.app,PULSE.core,PULSE.app.common);_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var a=[];e.validateConfig=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:[]).forEach(function(e){n(e,t),i(e,t),r(t[e.namespace],e)}),!(0<a.length)||(a.unshift("You have "+a.length+" errors initialising "+e+"."),console.warn(a.join("\n")),!1)};var n=function(e,t){return!!t[e.namespace]||(a.push("Missing configuration property. config."+e.namespace+" is required and should be of type "+e.elementType),!1)},i=function(e,t){if(void 0!==e.namespace&&"undefined"!==e.elementType){var n=t[e.namespace];"object"===(void 0===n?"undefined":_typeof(n))?void 0===n.length||0!==n.length||a.push("Empty "+e.elementType.name+" under config."+e.namespace):a.push("Could not find "+e.elementType.name+" under config."+e.namespace)}},r=function(e,t){void 0!==e&&(e instanceof t.elementType||a.push("Incorrect type. Expected config."+t.namespace+" to be instance of "+t.elementType.name))}}(PULSE.app.common),function(e,d){var m="is-glued",p="js-was-glued",h="js-glue-placeholder";e.ViewportGlue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:".js-will-glue",n=this;n.container=e,n.items=[].slice.call(e.querySelectorAll(t)),n.heights=[],n.observer=o.call(n,n.items),n.topOffset=0},e.ViewportGlue.prototype.initModalObserver=function(e){if(e){var t=document.querySelector(e.dataset.root),n=document.querySelector(e.dataset.parentModal);this.modalItem=e,this.topOffset=t.offsetTop+n.offsetTop,this.observer=o.call(this,[e],"0px",t)}};var o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0px",n=arguments[2],a={root:n||null,rootMargin:t,threshold:[.025,1]},i=new IntersectionObserver(r.bind(this),a);return e.forEach(function(e){i.observe(e)}),i},r=function(e,t){var n=this,a=e.reduce(function(e,t){t.boundingClientRect.top-n.topOffset<=n.heights.reduce(c,0)&&!t.target.classList.contains(m)&&!t.target.classList.contains(h)&&(t.target.getAttribute("data-glue-mql")?window.matchMedia(t.target.getAttribute("data-glue-mql")).matches&&e.exiting.push(t):e.exiting.push(t));return 0<t.boundingClientRect.top&&t.target.classList.contains(h)&&t.isIntersecting&&e.entering.push(t),e},{exiting:[],entering:[]});if(a.exiting.length||a.entering.length){t.disconnect(),a.exiting.forEach(function(e){"none"!==getComputedStyle(e.target,null).display&&(s.call(n,e.target,n.heights.reduce(c,0)),n.heights.push(Math.round(e.boundingClientRect.height)))}),a.entering.forEach(function(e){"none"!==getComputedStyle(e.target,null).display&&(l(e.target),n.heights.splice(n.heights.indexOf(Math.round(e.boundingClientRect.height)),1))});var i=n.heights.reduce(c,0);if(n.observer=o.call(n,n.items,"-"+i+"px 0px 0px 0px"),n.modalItem){var r=document.querySelector(n.modalItem.dataset.root);n.observer=o.call(n,[n.modalItem],"-"+i+"px 0px 0px 0px",r)}}},s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if("none"!==getComputedStyle(e,null).display){var n=e.dataset.useParentWidth,a=e.dataset.parentModal,i=e.parentElement.offsetWidth,r=n?i+"px":"100%",o=0,s=t;if(a){var l=document.querySelector(a);o=l.offsetLeft+"px",s=l.offsetTop+parseInt(e.dataset.offset)}var c=document.createElement("div");c.classList.add(h),c.setAttribute("style","clear:both; height: "+e.clientHeight+"px; width: 100%;"),d.event.windowResize.add({method:function(){c.style.height=e.clientHeight+"px"}}),e.classList.add(m,p),e.setAttribute("style","top: "+s+"px; left: "+o+"; width: "+r);var u=e.insertAdjacentElement("beforebegin",c);this.items.push(u)}},l=function(e){e.nextElementSibling.classList.remove(m,p),e.remove()},c=function(e,t){return e+t};e.widgetInitialiser.addMultipleWidgetsByName("viewport-glue",e.ViewportGlue)}(PULSE.app,PULSE.core),function(l,c){l.ContentTracker=function(e,t,n,a){var i=this;i.event={contentType:n||e.getAttribute("data-tracker-type"),contentId:a||e.getAttribute("data-tracker-id"),action:t||e.getAttribute("data-tracker-action")};var r,o=(r="",i.event.contentType||(r+="The content event must include a contentType or 'data-tracker-type' on the element/n"),i.event.contentId||(r+="The content event must include a contentId or 'data-tracker-id' on the element/n"),i.event.action||(r+="The content event must include an action or 'data-tracker-action' on the element/n"),r);if(0<o.length)return o;var s={url:l.environment.trackingAPI,headers:[{label:"account",value:l.account}],data:i.event,method:"POST",callback:i.eventSent,forceCallback:!0,target:this};return c.data.manager.add(s)},l.ContentTracker.prototype.eventSent=function(e,t){};var e=document.querySelectorAll("[data-tracker-action]");Array.prototype.forEach.call(e,function(e){new l.ContentTracker(e)})}(PULSE.app,PULSE.core),function(n,e){e.filterOptions=function(e,t){this.filters=e,this.updateReferences(t)},e.filterOptions.prototype.addRefsToFilters=function(){var e=this,t="";if("string"==typeof e.references)t+=e.references;else for(var n in e.references)e.references.hasOwnProperty(n)&&(0<t.length&&(t+=","),t+=n+":"+e.references[n]);e.filters.references=t},e.filterOptions.prototype.updateFilters=function(e){this.filters=n.object.extend(this.filters,e)},e.filterOptions.prototype.updateReferences=function(e){var t=this;void 0!==e&&(t.references&&"string"!=typeof t.references?t.references=n.object.extend(t.references,e):t.references=e,t.addRefsToFilters())},e.filterOptions.prototype.removeReference=function(e){delete this.references[e],this.addRefsToFilters()},e.filterOptions.prototype.get=function(){return this.filters}}(PULSE.core,PULSE.app.common),function(e,n,a){e.HoverLine=function(e){var t=this;t.container=e,t.hoverLine=document.createElement("hr"),t.hoverLine.classList.add("tabs__hover-line"),t.container.appendChild(t.hoverLine),"true"===t.container.dataset.linkMode?t.targetNode="A":t.targetNode="LI",e.addEventListener("mouseover",t.mouseOver.bind(t)),e.addEventListener("mouseout",t.setActiveStates.bind(t)),window.addEventListener("load",t.setActiveStates.bind(t)),n.event.windowResize.add({method:t.setActiveStates.bind(t)}),document.addEventListener(a.EVENTS.MORE_MENU.CHANGED,t.setActiveStates.bind(t))},e.HoverLine.prototype.mouseOver=function(e){var t=e.target;t.tagName!==this.targetNode||r(t)?this.setActiveStates():i(this.hoverLine,t.offsetWidth,t.offsetLeft)},e.HoverLine.prototype.setActiveStates=function(){var e=this.container.querySelector(".is-active");e&&!r(e)?(i(this.hoverLine,e.offsetWidth,e.offsetLeft),this.container.classList.add("is-active-parent")):this.hoverLine.style.height=0};var i=function(e,t,n){e.style.width=t+"px",e.style.height="4px",e.style.transform="translateX("+n+"px)"},r=function(e){return!(!e.parentElement.dataset.cloned&&!e.dataset.cloned)};e.widgetInitialiser.addMultipleWidgetsByName("hover-line",e.HoverLine)}(PULSE.app,PULSE.core,PULSE.app.common.CONSTANTS),function(n,a){var i="dynamic-more__ghost";n.DynamicMore=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=this;n.container=e,n.list=e.querySelector(".js-dynamic-list"),n.list.style.position="relative",n.items=e.querySelectorAll(".js-dynamic-child"),n.more=null,n.template=t||"common.dynamic-more",n.bucket=o.call(n,n.list);var a={root:n.list,rootMargin:"0px -"+(n.more.clientWidth||95)+"px 0px 0px",threshold:1},i=new IntersectionObserver(r.bind(n),a);n.items.forEach(function(e){return i.observe(e)})};var r=function(e){var t=this,n=e.reduce(s,{exiting:[],entering:[]});n.exiting.forEach(l.bind(t)),n.entering.forEach(c.bind(t)),t.bucket.children.length?t.more.classList.remove("u-hide"):t.more.classList.add("u-hide"),document.dispatchEvent(new CustomEvent(a.EVENTS.MORE_MENU.CHANGED))},o=function(e){var t=n.templating.render({baseClass:"main-navigation"},this.template,!0);return this.more=e.appendChild(t),e.querySelector(".js-dynamic-more-bucket")},s=function(e,t){return t.boundingClientRect.right>=t.rootBounds.right?e.exiting.unshift(t):e.entering.push(t),e},l=function(e){e.target.setAttribute("data-cloned",Date.now());var t=e.target.cloneNode(!0);this.bucket.prepend(t),e.target.classList.add(i),e.target.style.left=e.boundingClientRect.left-e.rootBounds.left+"px"},c=function(e){var t=this.bucket.querySelector('[data-cloned="'+e.target.getAttribute("data-cloned")+'"]');t&&(t.remove(),e.target.classList.remove(i),e.target.removeAttribute("data-cloned"),e.target.style.left="0")};n.widgetInitialiser.addMultipleWidgetsByName("dynamic-more",n.DynamicMore)}(PULSE.app,PULSE.app.common.CONSTANTS),function(e,n,t){var a="js-mobile-nav-btn",i="js-dropdown-btn",r="dropdown-is-open",o="is-open",s="search-is-open";e.MobileNavigation=function(e){var t=this;t.container=e,t.list=e.querySelector(".js-mobile-nav"),t.button=e.querySelector("."+a),t.searchInput=e.querySelector(".js-nav-search"),n.addAriaClickListener(t.container,t.delegateEvent.bind(t))},e.MobileNavigation.prototype.delegateEvent=function(e){var t=this;if(e.target.classList.contains(a)&&t.toggleMenu(),e.target.classList.contains(i)){var n=t.list.querySelectorAll("."+i+" + ."+o);[].slice.call(n,t.toggleDropdown),t.toggleDropdown(e.target.nextElementSibling)}(e.target.classList.contains("js-nav-search-btn")||e.target.classList.contains("js-nav-search-overlay"))&&(e.preventDefault(),t.toggleSearch())},e.MobileNavigation.prototype.toggleMenu=function(){t.style.toggleClass(this.list,o),t.style.toggleClass(this.button,"is-active"),t.style.toggleClass(this.container,o),t.style.toggleClass(document.body,n.CONSTANTS.GMS_IS_COLLAPSED)},e.MobileNavigation.prototype.toggleDropdown=function(e){t.style.toggleClass(e,o),this.list.querySelectorAll("."+i+" + ."+o).length?t.style.addClass(this.list,r):t.style.removeClass(this.list,r)},e.MobileNavigation.prototype.toggleSearch=function(){t.style.toggleClass(this.container,s),t.style.hasClass(this.container,s)&&this.searchInput.focus()},e.widgetInitialiser.addMultipleWidgetsByName("mobile-navigation",e.MobileNavigation)}(PULSE.app,PULSE.app.common,PULSE.core),function(a,r,i){var o=".js-lazy-load",s=".js-body-content",l=".js-modal",c="[ data-modal ]",u=function(){return e},d=function(){return t};i.Modal=function(e,t){var n=this;n.root=e,n.imageSelector=o,n.containerSelector=t.containerSelector||s,n.modalSelector=t.modalSelector||l,n.modalMarker=t.modalMarker||c,n.renderModal=t.renderModal||u(),n.onDomUpdate=t.onDomUpdate||d(),n.modal=null,n.ancestor=null,n.container=document.querySelector(n.containerSelector),n.container&&i.addAriaClickListener(n.root,n.delegateClick.bind(n))},i.Modal.prototype.doModal=function(e){var t=this,n=t.renderModal(e);n&&(t.modal?t.modal.outerHTML=n:t.container.insertAdjacentHTML("beforeend",n),t.modal=t.container.querySelector(t.modalSelector),t.onDomUpdate(t.modal))},i.Modal.prototype.delegateClick=function(e){var t=this;t.ancestor=e.target.closest(t.modalMarker),t.ancestor&&(e.preventDefault(),t.doModal(t.ancestor))},i.Modal.prototype.closeModalInstance=function(){var e=this;e.boundEvents&&i.removeAriaClickListener(e.modal,e.boundEvents),document.removeEventListener("keyup",e.keyEventCallback),e.keyEventCallback=null,e.modal.remove(),e.modal=null};var e=function(e){var t=e.querySelector(this.imageSelector);if(!t)return"";var n={leadMediaUrls:{thumbnail:t.getAttribute("data-desktop-img"),thumbnailRetina:t.getAttribute("data-desktop-img-retina"),thumbnailMobile:t.getAttribute("data-mobile-img"),thumbnailMobileRetina:t.getAttribute("data-mobile-img-retina")},lazyImage:a.templates["common.lazy-image"],objectFit:!1};return a.templating.render({data:n,PULSE:PULSE},"common.modal")},t=function(e){e&&(new a.LazyLoad(e),n.call(this,e),h.call(this,e))},n=function(e){var t=this;t.boundEvents=i.addAriaClickListener(e,p.bind(t)),t.keyEventCallback=m.bind(t),document.addEventListener("keyup",t.keyEventCallback)},m=function(e){27===e.keyCode&&this.closeModalInstance()},p=function(e){var t=e.target.dataset.modalAction,n=void 0;if("prev"===t?n=this.ancestor.previousElementSibling:"next"===t&&(n=this.ancestor.nextElementSibling),n&&void 0!==n.dataset.modal)return this.closeModalInstance(),void n.click();"close"===e.target.dataset.modalAction&&this.closeModalInstance()},h=function(e){var t=e.querySelector("[ data-modal-action='prev' ]"),n=e.querySelector("[ data-modal-action='next' ]");if(t&&n){var a=this.ancestor.previousElementSibling,i=this.ancestor.nextElementSibling;a?r.style.removeClass(t,"disable"):r.style.addClass(t,"disable"),i?r.style.removeClass(n,"disable"):r.style.addClass(n,"disable")}}}(PULSE.app,PULSE.core,PULSE.app.common),function(r,n){var o=[{name:"mobileMini",maxWidth:320,size:{width:320,height:200},multipliers:[1,2,3]},{name:"mobile",maxWidth:415,size:{width:415,height:260},multipliers:[1,2,3]},{name:"phablet",maxWidth:640,size:{width:640,height:400},multipliers:[1,2,3]},{name:"tablet",maxWidth:840,size:{width:840,height:525},multipliers:[1,2,3]},{name:"desktop",maxWidth:1024,size:{width:1024,height:640},multipliers:[1,2,3]},{name:"desktopWide",maxWidth:1400,size:{width:1400,height:875},multipliers:[1,2]},{name:"desktopMegaWide",minWidth:1401,size:{width:1800,height:1125},multipliers:[1,2]},{name:"default",size:{width:1400,height:875},multipliers:[1]}],s=[{name:"mobileMini",maxWidth:320,size:{width:450,height:600},multipliers:[1,2,3]},{name:"mobile",maxWidth:415,size:{width:525,height:700},multipliers:[1,2,3]},{name:"phablet",maxWidth:640,size:{width:300,height:400},multipliers:[1,2,3]},{name:"tablet",maxWidth:840,size:{width:450,height:600},multipliers:[1,2,3]},{name:"desktop",maxWidth:1280,size:{width:600,height:800},multipliers:[1,2,3]},{name:"desktopWide",minWidth:1281,size:{width:810,height:1080},multipliers:[1,2,3]},{name:"default",size:{width:600,height:800},multipliers:[1]}];n.PhotoGallery=function(e){var t={containerSelector:".js-body",modalSelector:".js-photo-modal",modalMarker:"[ data-modal ]",renderModal:this.renderModal};this.modal=new n.Modal(e,t)},n.PhotoGallery.prototype.renderModal=function(e){var t=e.querySelector(".js-lazy-load"),n=e.dataset.onDemandUrl;if(!t||!n)return"";var a="true"===e.dataset.isPortrait,i={mediaQueryConfig:r.common.content.getContentModel({onDemandUrl:n,type:"photo"},a?s:o).mediaQueryConfig,pictureCssClass:"photo-modal__picture",objectFit:!1};return r.templating.render({data:i},"photo-gallery.modal")},r.widgetInitialiser.addMultipleWidgetsByName("photo-modal",n.PhotoGallery)}(PULSE.app,PULSE.app.common),function(s,t,r){var n="will-animate",a=[{namespace:"container"},{namespace:"slideContainer",type:"HTMLElement",selector:".js-slider"},{namespace:"sliderElements",type:"NodeList",selector:".js-slide"},{namespace:"nextButton",type:"HTMLElement",selector:".js-next-btn"},{namespace:"prevButton",type:"HTMLElement",selector:".js-prev-btn"},{namespace:"nudgeLeftClass",default:"nudge-left"},{namespace:"nudgeRightClass",default:"nudge-right"},{namespace:"pagerActiveClass",default:"is-active"},{namespace:"itemActiveClass",default:"item-active"},{namespace:"buttonHideClass",default:"u-hide"}],i={root:null,rootMargin:"0px",threshold:[.1,.9]};t.ContentCarousel=function(e){this.sliderInitialised=!1,this.activeItemIndex,this.config=t.configChecker("common.ContentCarousel",e,a),this.config&&(this.observer=new IntersectionObserver(c.bind(this),i),this.observer.observe(this.config.container))},t.ContentCarousel.prototype.initSlider=function(){var e=this;o.call(this),0!==e.config.perPage?(e.activeSlide=e.config.activeSlide||0,e.renderPagination(),e.sliderInitialised?e.setPagerListeners():e.setListeners(),e.slideTo(e.activeSlide),e.sliderInitialised=!0,setTimeout(function(){e.config.slideContainer.classList.add(n)},0),t.event.dispatch(t.CONSTANTS.EVENTS.SLIDER.INITIALISED,{},e.config.container)):console.error("Something went wrong with the slider for",e.config.container)},t.ContentCarousel.prototype.setListeners=function(){var e=this;e.config.nextButton.addEventListener("click",function(){e.scrollNext()}),e.config.prevButton.addEventListener("click",function(){e.scrollPrev()}),e.setPagerListeners(),e.lastWidth=window.innerWidth,r.event.windowResize.add({method:function(){e.lastWidth!==window.innerWidth&&(e.resetSlider.call(e),e.lastWidth=window.innerWidth)}}),e.interval=null,e.config.slideContainer.addEventListener("scroll",function(){e.interval||e.checkScroll()})},t.ContentCarousel.prototype.setPagerListeners=function(){var e=this;if(e.config.pagerElements)for(var t=0;t<e.config.pagerElements.length;t++)e.config.pagerElements[t].addEventListener("click",e.slideTo.bind(e,t))},t.ContentCarousel.prototype.scrollNext=function(){var e=this;e.activeSlide!==e.slideNum-1&&(e.activeSlide++,e.slideTo(e.activeSlide),e.config.nextCallback&&e.config.nextCallback(e.activeSlide))},t.ContentCarousel.prototype.nudgeLeft=function(){r.style.toggleClass(this.config.slideContainer,this.config.nudgeLeftClass)},t.ContentCarousel.prototype.nudgeRight=function(){r.style.toggleClass(this.config.slideContainer,this.config.nudgeRightClass)},t.ContentCarousel.prototype.isPaginating=function(){return!!this.config.pagerItemsContainer&&this.config.pagerItemsContainer.offsetParent},t.ContentCarousel.prototype.scrollPrev=function(){var e=this;0!==e.activeSlide&&(e.activeSlide--,e.slideTo(e.activeSlide),e.config.previousCallback&&e.config.previousCallback(e.activeSlide))},t.ContentCarousel.prototype.slideTo=function(e){var t=this,n=t.activeSlide<e;t.activeSlide=e,t.updateControls(),t.setActiveItems();var a=t.getNumberOfActiveItems();if(a<t.config.perPage){var i=t.slideWidth*e,r=t.slideWidth-t.slideWidth/t.config.perPage*a,o=t.activeItemIndex-(t.config.perPage-a);t.setActiveItems(o),t.slidePos=i-r}else t.slidePos=t.slideWidth*e;window.innerWidth>s.measurements.tablet?t.config.slideContainer.style.transform="translate3d( -"+t.slidePos+"px, 0, 0)":(t.config.slideContainer.style.transform="translate3d( 0, 0, 0)",t.config.slideContainer.scrollLeft=t.slidePos),t.config.paginationCallback&&t.config.paginationCallback(n),t.config.slideChangeCallback&&t.config.slideChangeCallback(t.activeSlide)},t.ContentCarousel.prototype.updateControls=function(){var e=this;if(e.activeSlide>=e.slideNum-1?r.style.addClass(e.config.nextButton,e.config.buttonHideClass):r.style.hasClass(e.config.nextButton,e.config.buttonHideClass)&&r.style.removeClass(e.config.nextButton,e.config.buttonHideClass),0===e.activeSlide?r.style.addClass(e.config.prevButton,e.config.buttonHideClass):r.style.hasClass(e.config.prevButton,e.config.buttonHideClass)&&r.style.removeClass(e.config.prevButton,e.config.buttonHideClass),e.config.pagerElements)for(var t=0;t<e.config.pagerElements.length;t++)t===e.activeSlide?r.style.addClass(e.config.pagerElements[t],e.config.pagerActiveClass):r.style.removeClass(e.config.pagerElements[t],e.config.pagerActiveClass)},t.ContentCarousel.prototype.renderPagination=function(){this.config.pagerElements&&(this.config.pagerItemsContainer.innerHTML=s.templating.render({activeIndex:this.config.activeSlide,slidenumbers:this.getNumberOfSlides()+1},"common.ContentCarousel-pagination"))},t.ContentCarousel.prototype.getNumberOfActiveItems=function(){return this.config.slideContainer.querySelectorAll("."+this.config.itemActiveClass).length},t.ContentCarousel.prototype.getNumberOfSlides=function(){return Math.ceil(this.config.sliderElements.length/this.config.perPage-1)},t.ContentCarousel.prototype.getActiveSlide=function(){return this.activeSlide},t.ContentCarousel.prototype.getItemSlide=function(e){var t=Array.prototype.slice.call(this.config.sliderElements).indexOf(e);return Math.floor(t/this.config.perPage)},t.ContentCarousel.prototype.setActiveItems=function(e){for(var t=this,n=0;n<t.config.sliderElements.length;n++)r.style.removeClass(t.config.sliderElements[n],t.config.itemActiveClass);var a=t.activeSlide*t.config.perPage;e&&(a=e),t.activeItemIndex=a;for(var i=0;i<t.config.perPage&&t.config.sliderElements[a];i++)r.style.addClass(t.config.sliderElements[a],t.config.itemActiveClass),a++},t.ContentCarousel.prototype.resetSlider=function(){var e=this;e.config.slideContainer.classList.remove(n),setTimeout(function(){e.initSlider()},0),t.event.dispatch(t.CONSTANTS.EVENTS.SLIDER.INITIALISED,{},e.config.container)},t.ContentCarousel.prototype.checkScroll=function(){var t=this,n=t.config.slideContainer.scrollLeft;t.interval=setInterval(function(){var e=t.config.slideContainer.scrollLeft;if(e===n){clearInterval(t.interval),t.interval=null;window.innerWidth<1.5*t.slideWidth&&t.snapSlider()}else n=e},50)},t.ContentCarousel.prototype.snapSlider=function(){for(var e=this,t=e.config.sliderElements[0].getBoundingClientRect(),n=t.width,a=n*e.config.perPage,i=e.config.slideContainer.scrollLeft,r=(window.innerWidth-a)/2,o=Math.abs(t.left+i)-r,s=0;s<e.config.sliderElements.length;s++){var l=e.config.sliderElements[s];if((i-(l.offsetLeft-n/2))*(i-(l.offsetLeft+n/2))<=0){var c=s;return e.config.slideContainer.scrollLeft=n*c+o,void(e.activeSlide!==s&&(e.activeSlide=s,e.updateControls(),e.setActiveItems(),e.config.slideChangeCallback&&e.config.slideChangeCallback(e.activeSlide)))}}};var o=function(){var t=this,e=[].slice.call(this.config.slideContainer.children);this.config.perPage=e.filter(function(e){return l(e,t.config.slideContainer)}).length||1,this.slidePos=0;var n=this.config.sliderElements[0].getBoundingClientRect();this.itemWidth=n.width,this.slideWidth=this.itemWidth*this.config.perPage,this.slideNum=Math.ceil(this.config.sliderElements.length/this.config.perPage)},l=function(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),i=Math.ceil(n.left)>=Math.floor(a.left),r=Math.floor(n.right)<=Math.ceil(a.right);return i&&r},c=function(e){var n=this;Array.prototype.forEach.call(e,function(e){var t=e.target;e.isIntersecting&&"true"!==t.dataset.calculationsComplete&&(n.initSlider(),t.dataset.calculationsComplete="true")})}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){a.ContentList=function(e){var t=this;t.element=e,t.itemsPerPage=t.element.getAttribute("data-items-per-page"),t.slideContainer=t.element.querySelector(".js-content-slider-content"),t.sliderElements=t.slideContainer.querySelectorAll(".js-thumb"),t.nextBtn=t.element.querySelector(".js-slide-next"),t.prevBtn=t.element.querySelector(".js-slide-prev"),t.scrollList=t.element.querySelector(".js-scroll-list"),t.paginatorContainer=t.element.querySelector(".js-paginator"),t.itemsPerPageDesktop=t.element.getAttribute("data-items-per-page-desktop")||"",t.itemsPerPageTablet=t.element.getAttribute("data-items-per-page-tablet")||"";var n={container:t.element,itemsPerPage:t.itemsPerPage,itemsPerPageDesktop:t.itemsPerPageDesktop,itemsPerPageTablet:t.itemsPerPageTablet,scrollContainer:t.slideContainer,sliderElements:t.sliderElements,nextButton:t.nextBtn,prevButton:t.prevBtn,scrollList:t.scrollList,nudgeLeftClass:"nudge-left",nudgeRightClass:"nudge-right",pagerActiveClass:"",paginatorContainer:t.paginatorContainer};new a.ContentCarousel(n)},e.widgetInitialiser.addMultipleWidgetsByName("content-carousel",a.ContentList)}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t,a){var i=".js-copy-url",r=".js-copy-message",o=".js-social-expand",s=".js-options-column-close",l=".js-expand",c=".js-close",n="is-open",u="u-hide",d="is-active",m="social-share__copy-message--fail";a.SharePage=function(e,t){var n=this;n.element=e,n.render=n.element.getAttribute("data-render"),n.bodyContent=n.element.getAttribute("data-body"),n.defaultClosed=n.element.getAttribute("data-closed"),n.copyBtn=n.element.querySelector(i),n.copyMessage=n.element.querySelector(r),n.url=n.element.getAttribute("data-link-to")?window.location.hostname+n.element.getAttribute("data-link-to"):t,n.defaultClosed&&(n.toggleButton=n.element.querySelector(o),n.closeButton=n.element.querySelector(s),n.shareSvg=n.element.querySelector(l),n.closeSvg=n.element.querySelector(c),n.setExpandableListeners()),n.setListeners()},a.SharePage.prototype.setExpandableListeners=function(){var e=this;a.addAriaClickListener(e.toggleButton,function(){e.element.classList.toggle(n),e.closeSvg&&e.shareSvg&&(e.closeSvg.classList.toggle(u),e.shareSvg.classList.toggle(u))}),a.addAriaClickListener(e.closeButton,function(){e.element.classList.remove(n)})},a.SharePage.prototype.setListeners=function(){var n=this;a.addAriaClickListener(n.element,function(e){var t=n.getSocialDataset(e.target);t&&t.socialService&&a.social.sharePage(t.socialService,n.url,!1,n.updateBodyContent())}),document.queryCommandSupported("copy")?a.addAriaClickListener(n.copyBtn,function(){return n.copyUrl()}):n.copyButton.classList.add(u)},a.SharePage.prototype.copyUrl=function(){var e=this,t=e.url||window.location.href;clipboard.writeText(t).then(function(){return e.copyUrlMessage()},function(){return e.copyUrlMessage(!0)})},a.SharePage.prototype.copyUrlMessage=function(e){var t=this;t.copyBtn.classList.add(d),e&&(t.copyMessage.classList.add(m),t.copyMessage.innerHTML="URL could not be copied"),setTimeout(function(){t.copyBtn.classList.remove(d)},2e3)},a.SharePage.prototype.getSocialDataset=function(e){var t=e;if(this.element.getAttribute("data-social-service"))return this.element.dataset;do{if(t.getAttribute("data-social-service"))return t.dataset;t=t.parentElement}while(t!==this.element);return!1},a.SharePage.prototype.updateBodyContent=function(){return this.element.getAttribute("data-body")}}(PULSE.app,PULSE.core,PULSE.app.common),function(e,n){var l=n.CONSTANTS.MATCH_STATES.MATCH_INFO;e.GrandSlamTennisMatch=function(e){Object.assign(this,e);var t={a:[],b:[]};for(var n in this.Teams=t,this.event_participants)if(this.event_participants.hasOwnProperty(n)){var a=this.event_participants[n];switch(a.number){case"1":case"3":t.a.push(a);break;case"2":case"4":t.b.push(a)}}this.LastUpdated=this.ut;var i={GrandSlam:!0,DrawLevelType:"M",DrawMatchType:this.getProperty("EventTypeName").includes("Double")?"D":"S",EventID:s(this.Tournament)?this.Tournament.tournamentGroup.id:"",EventYear:this.tournament_name,MatchID:this.id,MatchState:o(this.status_type),MatchTimeStamp:this.startdate,MatchTimeTotal:"",NumSets:this.getProperty("Sets"),PlayerCountryA:t.a[0].participant.country_code,PlayerCountryA2:s(t.a[1])?t.a[1].participant.country_code:"",PlayerCountryB:t.b[0].participant.country_code,PlayerCountryB2:s(t.b[1])?t.b[1].participant.country_code:"",PlayerIDA:t.a[0].participant.id,PlayerIDA2:s(t.a[1])?t.a[1].participant.id:"",PlayerIDB:t.b[0].participant.id,PlayerIDB2:s(t.b[1])?t.a[1].participant.id:"",PlayerNameFirstA:u(t.a[0].participant),PlayerNameFirstA2:s(t.a[1])?u(t.a[1].participant):"",PlayerNameFirstB:u(t.b[0].participant),PlayerNameFirstB2:s(t.b[1])?u(t.b[1].participant):"",PlayerNameLastA:d(t.a[0].participant),PlayerNameLastA2:s(t.a[1])?d(t.a[1].participant):"",PlayerNameLastB:d(t.b[0].participant),PlayerNameLastB2:s(t.b[1])?d(t.b[1].participant):"",PointA:this.getResult(t.a,"gamescore"),PointB:this.getResult(t.b,"gamescore"),RoundID:this.getProperty("TennisRound_Number"),ScoreSet1A:this.getResult(t.a,"set1"),ScoreSet1B:this.getResult(t.b,"set1"),ScoreSet2A:this.getResult(t.a,"set2"),ScoreSet2B:this.getResult(t.b,"set2"),ScoreSet3A:this.getResult(t.a,"set3"),ScoreSet3B:this.getResult(t.b,"set3"),ScoreSys:"1",ScoreTbSet1:this.calculateTieBreak(t,"1"),ScoreTbSet2:this.calculateTieBreak(t,"2"),ScoreTbSet3:this.calculateTieBreak(t,"3"),SeedA:"",SeedB:"",Tournament:this.Tournament,Winner:p(this.getProperty("Winner")),Venue:h(this.venue)};Object.assign(this,i),this.Sets=m(this),this.TiebreakActive=this.checkForTiebreak(),this.Serve=this.calculateServer(),this.ScoreString=this.generateScoreString(),this.ResultString=this.generateResultString();var r=this.getProperty("order_on_court");this.Order=r?parseInt(r):99},e.GrandSlamTennisMatch.prototype.getProperty=function(e){for(var t in this.property)if(this.property.hasOwnProperty(t)){var n=this.property[t];if(n.name===e)return n.value}return""},e.GrandSlamTennisMatch.prototype.getResult=function(e,t){for(var n in e[0].result)if(e[0].result.hasOwnProperty(n)){var a=e[0].result[n];if(a.result_code===t)return moment(a.ut).isAfter(this.LastUpdated,"second")&&(this.LastUpdated=a.ut),a.value}return""},e.GrandSlamTennisMatch.prototype.calculateTieBreak=function(e,t){if(e.a&&e.b){var n=parseInt(this.getResult(e.a,"tiebreak"+t))||0,a=parseInt(this.getResult(e.b,"tiebreak"+t))||0;if(n<a)return n;if(a<n)return a}return""},e.GrandSlamTennisMatch.prototype.calculateServer=function(){if(this.MatchState===l.FINISHED)return"";var e=this.getProperty("firsttoserve").toUpperCase(),t=this.Sets.reduce(function(e,t){return e+((t.a||0)+(t.b||0))},0),n=c(e,t+1);if(this.TiebreakActive){for(var a=(parseInt(this.PointA)||0)+(parseInt(this.PointB)||0),i=[n,"A"===n?"B":"A"],r=["A"===n?"B":"A",n],o=[],s=0;s<a;s++)o=o.concat(s%2==0?i:r);return 0===o.length&&(o=i),o[a]}return n},e.GrandSlamTennisMatch.prototype.checkForTiebreak=function(){var e=!1,t=this.getProperty("LastSetTiebreakTo");if(this.MatchState===l.FINISHED||this.Sets[2].playing&&!t)return e;for(var n=0;n<this.Sets.length;n++){var a=this.Sets[0];if(a.playing){a.a+"-"+a.b===t&&(e=!0);break}}return e},e.GrandSlamTennisMatch.prototype.generateScoreString=function(){var e=["a","b"];"3"===this.Winner&&e.reverse();for(var t=[],n=0;n<this.Sets.length;n++){var a=this.Sets[n];""===a[e[0]]&&""===a[e[1]]||(""!==a.tie?a[e[0]]>a[e[1]]?t.push(a[e[0]]+"-"+a[e[1]]+"("+a.tie+")"):t.push(a[e[0]]+"("+a.tie+")-"+a[e[1]]):t.push(a[e[0]]+"-"+a[e[1]]))}return t.join()},e.GrandSlamTennisMatch.prototype.generateResultString=function(){var e="",t=[];return""!==this.PlayerIDA2?(t.push((this.PlayerNameFirstA?this.PlayerNameFirstA[0]+".":"")+" "+this.PlayerNameLastA+" / "+(this.PlayerNameFirstA2?this.PlayerNameFirstA2[0]+".":"")+" "+this.PlayerNameLastA2),t.push((this.PlayerNameFirstB?this.PlayerNameFirstB[0]+".":"")+" "+this.PlayerNameLastB+" / "+(this.PlayerNameFirstB2?this.PlayerNameFirstB2[0]+".":"")+" "+this.PlayerNameLastB2)):(t.push((this.PlayerNameFirstA?this.PlayerNameFirstA[0]+".":"")+" "+this.PlayerNameLastA),t.push((this.PlayerNameFirstB?this.PlayerNameFirstB[0]+".":"")+" "+this.PlayerNameLastB)),"0"!==this.Winner&&("3"===this.Winner&&t.reverse(),e=t[0]+" d "+t[1]+" "+this.ScoreString),e};var c=function(e,t){var n=parseInt(t);return n?n%2==0?"A"===e?"B":"A":e:""},o=function(e){switch(e){case"notstarted":return"U";case"inprogress":return"P";case"finished":return"F";case"cancelled":return"L";default:return""}},s=function(e){return void 0!==e},u=function(e){return s(e.first_name)?e.first_name:e.name.slice(0,e.name.indexOf(" "))},d=function(e){return s(e.last_name)?e.last_name:e.name.slice(e.name.indexOf(" ")+1)},m=function(t){var e=[{a:a(t.ScoreSet1A)?Number(t.ScoreSet1A):"",b:a(t.ScoreSet1B)?Number(t.ScoreSet1B):"",tie:t.ScoreTbSet1,num:1},{a:a(t.ScoreSet2A)?Number(t.ScoreSet2A):"",b:a(t.ScoreSet2B)?Number(t.ScoreSet2B):"",tie:t.ScoreTbSet2,num:2},{a:a(t.ScoreSet3A)?Number(t.ScoreSet3A):"",b:a(t.ScoreSet3B)?Number(t.ScoreSet3B):"",tie:t.ScoreTbSet3,num:3}];return e.forEach(function(e){e.winner=n.tennis.getSetWinner(e),e.playing=n.tennis.getSetPlaying(e,t.MatchState),e.tieOutput=n.tennis.getSetTieOutput(e,t.ScoreSys)}),e},a=function(e){return""!==e&&void 0!==e},p=function(e){switch(e.toLowerCase()){case"a":return"2";case"b":return"3";default:return"0"}},h=function(e){var t="";if(e)for(var n in e)if(e.hasOwnProperty(n)){t=e[n];break}return t}}(PULSE.app,PULSE.app.common),function(e,n){e.TennisPlayer=function(e){if(Object.assign(this,e),this.player&&(Object.assign(this,e.player),delete this.player),this.players&&(Object.assign(this,e.players[0]),delete this.players),this.type="tennis_player",this.link=n.url.generateUrl(this),this.age=this.getAge(),this.fullName&&!this.firstName&&!this.lastName){var t=this.fullName.split(" ");this.firstName=t[0],this.lastName=t.slice(1,t.length).join(" ")}null!==this.movement&&(this.movementDirection=0<this.movement?"up":this.movement<0?"down":"none",this.movementLabel=0===this.movement?"-":Math.abs(this.movement),this.movementLongNumber=1e3<=this.movement)},e.TennisPlayer.prototype.getAge=function(){return moment().diff(this.dateOfBirth,"years")}}(PULSE.app,PULSE.app.common),function(e,n){n.TennisTournament=function(e){if(Object.assign(this,e),this.type="tennis_tournament",this.status=i(this.startDate,this.endDate),this.tournamentGroup.level=r(this),this.link={url:n.url.generateUrl(this),text:o(this.status)},this.tournamentGroup&&"ITF"===this.tournamentGroup.level&&this.title){var t=this.title.split(" - ");t.shift(),this.location=t.join(" - ")}this.location||(this.location=a(this.city,this.country)),this.title=n.tennis.getTournamentTitle(this),this.startMonth=moment(this.startDate).format("MM"),this.endMonth=moment(this.endDate).format("MM")};var a=function(e,t){return e+(e?", ":"")+t},i=function(e,t){return moment().isAfter(t,"day")?"past":moment().isBetween(e,t,"day",[])?"live":"future"},r=function(e){return e.tournamentGroup.metadata&&e.tournamentGroup.metadata.customLevel?e.tournamentGroup.metadata.customLevel:e.tournamentGroup.level},o=function(e){return"live"===e?PULSE.I18N.lookupKey("label.view.scores"):PULSE.I18N.lookupKey("label.view.tournament")}}(PULSE.app,PULSE.app.common);